"""
AI Mechanical Knowledge - Ù…Ø¹Ø±ÙØ© Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ© Ù…ØªØ®ØµØµØ©
Ø®Ø¨Ø±Ø© ÙÙŠ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª ÙˆØ§Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø«Ù‚ÙŠÙ„Ø© - ØªØ´Ø®ÙŠØµ ÙˆØ¥ØµÙ„Ø§Ø­
"""

# ====================================================================
# Ø§Ù„Ø£Ø¹Ø·Ø§Ù„ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© ÙˆØ§Ù„Ø­Ù„ÙˆÙ„
# ====================================================================

COMMON_PROBLEMS = {
    # Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ù…Ø­Ø±Ùƒ
    'engine_overheating': {
        'name_ar': 'Ø§Ø±ØªÙØ§Ø¹ Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ù…Ø­Ø±Ùƒ',
        'name_en': 'Engine Overheating',
        'symptoms': [
            'Ù…Ø¤Ø´Ø± Ø§Ù„Ø­Ø±Ø§Ø±Ø© ÙÙŠ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø­Ù…Ø±Ø§Ø¡',
            'Ø¨Ø®Ø§Ø± Ù…Ù† ØºØ·Ø§Ø¡ Ø§Ù„Ù…Ø­Ø±Ùƒ',
            'Ø±Ø§Ø¦Ø­Ø© Ø³Ø§Ø¦Ù„ ØªØ¨Ø±ÙŠØ¯ Ù…Ø­ØªØ±Ù‚',
            'Ø¶Ø¹Ù ÙÙŠ Ø§Ù„Ø£Ø¯Ø§Ø¡'
        ],
        'possible_causes': [
            'Ù†Ù‚Øµ Ø³Ø§Ø¦Ù„ Ø§Ù„ØªØ¨Ø±ÙŠØ¯ (Coolant)',
            'ØªÙ„Ù Ø§Ù„Ø«Ø±Ù…ÙˆØ³ØªØ§Øª (Thermostat)',
            'ØªÙ„Ù Ù…Ø¶Ø®Ø© Ø§Ù„Ù…Ø§Ø¡ (Water Pump)',
            'Ø§Ù†Ø³Ø¯Ø§Ø¯ Ø§Ù„Ø±Ø§Ø¯ÙŠØªØ±',
            'ØªÙ„Ù Ù…Ø±ÙˆØ­Ø© Ø§Ù„ØªØ¨Ø±ÙŠØ¯',
            'ØªÙ„Ù ØºØ·Ø§Ø¡ Ø§Ù„Ø±Ø§Ø¯ÙŠØªØ± (Radiator Cap)',
            'ØªÙ„Ù Ø¬ÙˆØ§Ù† Ø§Ù„Ø±Ø£Ø³ (Head Gasket) - Ø®Ø·ÙŠØ±!'
        ],
        'diagnosis_steps': [
            '1. Ø§ÙØ­Øµ Ù…Ø³ØªÙˆÙ‰ Ø³Ø§Ø¦Ù„ Ø§Ù„ØªØ¨Ø±ÙŠØ¯ (Ø¨Ø§Ø±Ø¯!)',
            '2. Ø§ÙØ­Øµ ÙˆØ¬ÙˆØ¯ ØªØ³Ø±ÙŠØ¨Ø§Øª',
            '3. Ø§ÙØ­Øµ Ø¹Ù…Ù„ Ø§Ù„Ù…Ø±ÙˆØ­Ø©',
            '4. Ø§ÙØ­Øµ Ø¶ØºØ· Ø§Ù„Ù†Ø¸Ø§Ù…',
            '5. Ø§ÙØ­Øµ Ù„ÙˆÙ† Ø§Ù„Ø²ÙŠØª (Ø£Ø¨ÙŠØ¶ = ØªÙ„Ù Ø¬ÙˆØ§Ù† Ø§Ù„Ø±Ø£Ø³)',
            '6. ÙØ­Øµ Ø§Ù„Ø«Ø±Ù…ÙˆØ³ØªØ§Øª (ÙŠÙØªØ­ ÙÙŠ 80-90 Ø¯Ø±Ø¬Ø©)'
        ],
        'solutions': [
            'Ø£Ø¶Ù Ø³Ø§Ø¦Ù„ ØªØ¨Ø±ÙŠØ¯ Ø¥Ø°Ø§ Ù†Ø§Ù‚Øµ',
            'Ø¨Ø¯Ù„ Ø§Ù„Ø«Ø±Ù…ÙˆØ³ØªØ§Øª (Ø±Ø®ÙŠØµ - 30-80â‚ª)',
            'Ø¨Ø¯Ù„ Ù…Ø¶Ø®Ø© Ø§Ù„Ù…Ø§Ø¡ (300-600â‚ª)',
            'Ù†Ø¸Ù‘Ù Ø£Ùˆ Ø¨Ø¯Ù„ Ø§Ù„Ø±Ø§Ø¯ÙŠØªØ±',
            'ØµÙ„Ù‘Ø­ Ø§Ù„Ù…Ø±ÙˆØ­Ø© Ø£Ùˆ Ø§Ù„Ø­Ø³Ø§Ø³',
            'Ø¨Ø¯Ù„ ØºØ·Ø§Ø¡ Ø§Ù„Ø±Ø§Ø¯ÙŠØªØ± (20-50â‚ª)',
            'Ø¬ÙˆØ§Ù† Ø§Ù„Ø±Ø£Ø³: Ø¥ØµÙ„Ø§Ø­ Ù…ÙƒÙ„Ù (1,500-3,000â‚ª+)'
        ],
        'emergency': 'Ø£ÙˆÙ‚Ù Ø§Ù„Ø³ÙŠØ§Ø±Ø© ÙÙˆØ±Ø§Ù‹! Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© Ø¨Ø­Ø±Ø§Ø±Ø© Ù…Ø±ØªÙØ¹Ø© ØªØªÙ„Ù Ø§Ù„Ù…Ø­Ø±Ùƒ ÙƒØ§Ù…Ù„Ø§Ù‹!',
        'parts_needed': [
            'Ø³Ø§Ø¦Ù„ ØªØ¨Ø±ÙŠØ¯',
            'Ø«Ø±Ù…ÙˆØ³ØªØ§Øª',
            'Ù…Ø¶Ø®Ø© Ù…Ø§Ø¡ (Ø¥Ù† Ù„Ø²Ù…)',
            'ØºØ·Ø§Ø¡ Ø±Ø§Ø¯ÙŠØªØ±'
        ]
    },
    
    'engine_misfire': {
        'name_ar': 'ØªÙ‚Ø·ÙŠØ¹ ÙÙŠ Ø§Ù„Ù…Ø­Ø±Ùƒ',
        'name_en': 'Engine Misfire',
        'symptoms': [
            'Ø§Ù‡ØªØ²Ø§Ø² ØºÙŠØ± Ø·Ø¨ÙŠØ¹ÙŠ',
            'Ø¶Ø¹Ù ÙÙŠ Ø§Ù„Ø¹Ø²Ù…',
            'Ø²ÙŠØ§Ø¯Ø© Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„ÙˆÙ‚ÙˆØ¯',
            'Ù„Ù…Ø¨Ø© Check Engine ØªÙˆÙ„Ø¹',
            'ØµÙˆØª ÙØ±Ù‚Ø¹Ø© Ù…Ù† Ø§Ù„Ø¹Ø§Ø¯Ù…'
        ],
        'possible_causes': [
            'Ø¨ÙˆØ§Ø¬ÙŠ ØªØ§Ù„ÙØ© Ø£Ùˆ Ù‚Ø¯ÙŠÙ…Ø©',
            'ÙƒÙˆÙŠÙ„Ø§Øª Ø§Ù„Ø§Ø´ØªØ¹Ø§Ù„ (Ignition Coils)',
            'ÙÙ„ØªØ± Ù‡ÙˆØ§Ø¡ Ù…Ø³Ø¯ÙˆØ¯',
            'Ø¨Ø®Ø§Ø®Ø§Øª ÙˆÙ‚ÙˆØ¯ Ù…ØªØ³Ø®Ø© (Injectors)',
            'Ø¶ØºØ· Ù…Ù†Ø®ÙØ¶ ÙÙŠ Ø§Ù„Ø³Ù„Ù†Ø¯Ø± (Compression)',
            'Ø³ÙŠØ± Ø§Ù„ØªÙˆÙ‚ÙŠØª ØºÙŠØ± Ù…Ø¶Ø¨ÙˆØ·'
        ],
        'diagnosis_steps': [
            '1. Ù‚Ø±Ø§Ø¡Ø© ÙƒÙˆØ¯ Ø§Ù„Ø¹Ø·Ù„ (OBD Scanner)',
            '2. ÙØ­Øµ Ø§Ù„Ø¨ÙˆØ§Ø¬ÙŠ (Ù„ÙˆÙ† Ø§Ù„Ø·Ø±ÙØŒ Ø§Ù„ÙØ¬ÙˆØ©)',
            '3. ÙØ­Øµ Ø§Ù„ÙƒÙˆÙŠÙ„Ø§Øª (Ù…Ù‚Ø§ÙˆÙ…Ø©ØŒ Ø´Ø±Ø§Ø±Ø©)',
            '4. ÙØ­Øµ Ø¶ØºØ· Ø§Ù„Ø³Ù„Ù†Ø¯Ø±Ø§Øª (Compression Test)',
            '5. ÙØ­Øµ Ø§Ù„Ø¨Ø®Ø§Ø®Ø§Øª (Ù†Ù…Ø· Ø§Ù„Ø±Ø´)',
            '6. ÙØ­Øµ ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø§Ø´ØªØ¹Ø§Ù„ (Timing)'
        ],
        'solutions': [
            'Ø¨Ø¯Ù„ Ø§Ù„Ø¨ÙˆØ§Ø¬ÙŠ (Ø£Ø±Ø®Øµ Ø­Ù„ - 10-40â‚ª Ù„Ù„Ø¨ÙˆØ¬ÙŠØ©)',
            'Ø¨Ø¯Ù„ Ø§Ù„ÙƒÙˆÙŠÙ„ Ø§Ù„ØªØ§Ù„Ù (150-400â‚ª)',
            'Ù†Ø¸Ù‘Ù Ø§Ù„Ø¨Ø®Ø§Ø®Ø§Øª (100-200â‚ª)',
            'Ø¨Ø¯Ù„ ÙÙ„ØªØ± Ø§Ù„Ù‡ÙˆØ§Ø¡ (20-60â‚ª)',
            'Ø¶Ø¨Ø· Ø§Ù„ØªÙˆÙ‚ÙŠØª (50-150â‚ª Ø¹Ù…Ø§Ù„Ø©)',
            'Ø¥ØµÙ„Ø§Ø­ Ø¶ØºØ· Ù…Ù†Ø®ÙØ¶ (Ù…ÙƒÙ„Ù - Ù‚Ø¯ ÙŠØ­ØªØ§Ø¬ Overhaul)'
        ],
        'parts_needed': [
            'Ø¨ÙˆØ§Ø¬ÙŠ (Spark Plugs)',
            'ÙƒÙˆÙŠÙ„Ø§Øª (Ignition Coils)',
            'ÙÙ„ØªØ± Ù‡ÙˆØ§Ø¡'
        ]
    },
    
    # Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø«Ù‚ÙŠÙ„Ø©
    'hydraulic_slow': {
        'name_ar': 'Ø¨Ø·Ø¡ ÙÙŠ Ø§Ù„Ø£Ø°Ø±Ø¹ Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆÙ„ÙŠÙƒ',
        'name_en': 'Slow Hydraulic Operation',
        'symptoms': [
            'Ø¨Ø·Ø¡ ÙÙŠ Ø­Ø±ÙƒØ© Ø§Ù„Ø°Ø±Ø§Ø¹',
            'Ø¶Ø¹Ù ÙÙŠ Ø±ÙØ¹ Ø§Ù„Ø£Ø­Ù…Ø§Ù„',
            'ØµÙˆØª ØºÙŠØ± Ø·Ø¨ÙŠØ¹ÙŠ Ù…Ù† Ø§Ù„Ù…Ø¶Ø®Ø©',
            'Ø§Ø±ØªÙØ§Ø¹ Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ø²ÙŠØª'
        ],
        'possible_causes': [
            'Ù†Ù‚Øµ Ø²ÙŠØª Ù‡ÙŠØ¯Ø±ÙˆÙ„ÙŠÙƒ',
            'ÙÙ„ØªØ± Ù‡ÙŠØ¯Ø±ÙˆÙ„ÙŠÙƒ Ù…Ø³Ø¯ÙˆØ¯',
            'ØªØ¢ÙƒÙ„ Ø§Ù„Ù…Ø¶Ø®Ø© Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆÙ„ÙŠÙƒÙŠØ©',
            'ØªØ³Ø±ÙŠØ¨ Ø¯Ø§Ø®Ù„ÙŠ ÙÙŠ Ø§Ù„Ø³Ù„Ù†Ø¯Ø±Ø§Øª',
            'ØµÙ…Ø§Ù…Ø§Øª (Valves) Ù…ØªØ³Ø®Ø© Ø£Ùˆ ØªØ§Ù„ÙØ©',
            'Ø®Ø±Ø§Ø·ÙŠÙ… Ù…Ø³Ø¯ÙˆØ¯Ø© Ø£Ùˆ Ø¶ÙŠÙ‚Ø©'
        ],
        'diagnosis_steps': [
            '1. ÙØ­Øµ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø²ÙŠØª Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆÙ„ÙŠÙƒÙŠ',
            '2. ÙØ­Øµ Ø¶ØºØ· Ø§Ù„Ù†Ø¸Ø§Ù… (Pressure Gauge)',
            '3. ÙØ­Øµ Ø§Ù„ÙÙ„ØªØ± (Ù…Ø³Ø¯ÙˆØ¯ØŸ)',
            '4. ÙØ­Øµ Ø§Ù„ØªØ³Ø±ÙŠØ¨Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©',
            '5. ÙØ­Øµ Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ø²ÙŠØª',
            '6. ÙØ­Øµ Ø§Ù„ØµÙ…Ø§Ù…Ø§Øª'
        ],
        'solutions': [
            'Ø£Ø¶Ù Ø²ÙŠØª Ø¥Ù† Ù†Ø§Ù‚Øµ',
            'Ø¨Ø¯Ù„ Ø§Ù„ÙÙ„ØªØ± (50-200â‚ª)',
            'Ù†Ø¸Ù‘Ù Ø§Ù„ØµÙ…Ø§Ù…Ø§Øª',
            'Ø¨Ø¯Ù„ Ø§Ù„Ù…Ø¶Ø®Ø© Ø¥Ù† Ù…ØªØ¢ÙƒÙ„Ø© (3,000-15,000â‚ª)',
            'ØµÙ„Ù‘Ø­ Ø§Ù„Ø³Ù„Ù†Ø¯Ø±Ø§Øª (Ø­Ø³Ø¨ Ø§Ù„Ø­Ø¬Ù…)',
            'Ø¨Ø¯Ù„ Ø§Ù„Ø®Ø±Ø§Ø·ÙŠÙ… Ø§Ù„ØªØ§Ù„ÙØ©'
        ],
        'parts_needed': [
            'Ø²ÙŠØª Ù‡ÙŠØ¯Ø±ÙˆÙ„ÙŠÙƒ (Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹)',
            'ÙÙ„ØªØ± Ù‡ÙŠØ¯Ø±ÙˆÙ„ÙŠÙƒ',
            'Ø³ÙŠÙ„Ø§Øª (Seals)',
            'Ù…Ø¶Ø®Ø© (Ø¥Ù† Ù„Ø²Ù…)'
        ]
    }
}


# ====================================================================
# Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª - Ø´Ø±Ø­ Ù…ÙØµÙ„
# ====================================================================

VEHICLE_SYSTEMS = {
    'fuel_system': {
        'name': 'Ù†Ø¸Ø§Ù… Ø§Ù„ÙˆÙ‚ÙˆØ¯',
        'components': [
            'Ø®Ø²Ø§Ù† Ø§Ù„ÙˆÙ‚ÙˆØ¯ (Fuel Tank)',
            'Ù…Ø¶Ø®Ø© Ø§Ù„ÙˆÙ‚ÙˆØ¯ (Fuel Pump)',
            'ÙÙ„ØªØ± Ø§Ù„ÙˆÙ‚ÙˆØ¯ (Fuel Filter)',
            'Ø¨Ø®Ø§Ø®Ø§Øª Ø§Ù„ÙˆÙ‚ÙˆØ¯ (Injectors)',
            'Ù…Ù†Ø¸Ù… Ø§Ù„Ø¶ØºØ· (Pressure Regulator)',
            'Ø®Ø±Ø§Ø·ÙŠÙ… Ø§Ù„ÙˆÙ‚ÙˆØ¯'
        ],
        'how_it_works': """**Ø¢Ù„ÙŠØ© Ø¹Ù…Ù„ Ù†Ø¸Ø§Ù… Ø§Ù„ÙˆÙ‚ÙˆØ¯:**

1. Ø§Ù„Ù…Ø¶Ø®Ø© ØªØ³Ø­Ø¨ Ø§Ù„ÙˆÙ‚ÙˆØ¯ Ù…Ù† Ø§Ù„Ø®Ø²Ø§Ù†
2. Ø§Ù„ÙÙ„ØªØ± ÙŠÙ†Ø¸Ù Ø§Ù„ÙˆÙ‚ÙˆØ¯ Ù…Ù† Ø§Ù„Ø´ÙˆØ§Ø¦Ø¨
3. Ù…Ù†Ø¸Ù… Ø§Ù„Ø¶ØºØ· ÙŠØ¶Ø¨Ø· Ø§Ù„Ø¶ØºØ· (2.5-4 bar)
4. Ø§Ù„Ø¨Ø®Ø§Ø®Ø§Øª ØªØ±Ø´ Ø§Ù„ÙˆÙ‚ÙˆØ¯ ÙÙŠ Ø§Ù„Ù…Ø­Ø±Ùƒ
5. ECU ØªØªØ­ÙƒÙ… ÙÙŠ ÙƒÙ…ÙŠØ© Ø§Ù„Ø±Ø´ Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ø¬Ø©

ğŸ’¡ Ù†Ø¸Ø§Ù… Ø¯Ù‚ÙŠÙ‚ Ø¬Ø¯Ø§Ù‹ - Ø£ÙŠ Ø®Ù„Ù„ ÙŠØ¤Ø«Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¯Ø§Ø¡!
""",
        'common_problems': [
            'ØµØ¹ÙˆØ¨Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ â†’ ÙÙ„ØªØ± ÙˆÙ‚ÙˆØ¯ Ø£Ùˆ Ù…Ø¶Ø®Ø©',
            'ØªÙ‚Ø·ÙŠØ¹ â†’ Ø¨Ø®Ø§Ø®Ø§Øª Ù…ØªØ³Ø®Ø©',
            'Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø¹Ø§Ù„ÙŠ â†’ Ø¨Ø®Ø§Ø®Ø§Øª ØªØ³Ø±Ø¨ Ø£Ùˆ Ø­Ø³Ø§Ø³ Ø£ÙƒØ³Ø¬ÙŠÙ†'
        ]
    },
    
    'cooling_system': {
        'name': 'Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¨Ø±ÙŠØ¯',
        'components': [
            'Ø±Ø§Ø¯ÙŠØªØ± (Radiator)',
            'Ù…Ø¶Ø®Ø© Ø§Ù„Ù…Ø§Ø¡ (Water Pump)',
            'Ø«Ø±Ù…ÙˆØ³ØªØ§Øª (Thermostat)',
            'Ù…Ø±ÙˆØ­Ø© Ø§Ù„ØªØ¨Ø±ÙŠØ¯ (Cooling Fan)',
            'Ø®Ø±Ø§Ø·ÙŠÙ… (Hoses)',
            'ØºØ·Ø§Ø¡ Ø§Ù„Ø±Ø§Ø¯ÙŠØªØ± (Radiator Cap)',
            'Ø³Ø§Ø¦Ù„ Ø§Ù„ØªØ¨Ø±ÙŠØ¯ (Coolant)'
        ],
        'how_it_works': """**Ø¢Ù„ÙŠØ© Ø¹Ù…Ù„ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¨Ø±ÙŠØ¯:**

1. Ø§Ù„Ù…Ø­Ø±Ùƒ ÙŠØ³Ø®Ù† Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„
2. Ø§Ù„Ù…Ø§Ø¡ ÙŠØ¯ÙˆØ± Ø­ÙˆÙ„ Ø§Ù„Ø³Ù„Ù†Ø¯Ø±Ø§Øª Ù„Ø§Ù…ØªØµØ§Øµ Ø§Ù„Ø­Ø±Ø§Ø±Ø©
3. Ø§Ù„Ù…Ø¶Ø®Ø© ØªØ¯ÙØ¹ Ø§Ù„Ù…Ø§Ø¡ Ù„Ù„Ø±Ø§Ø¯ÙŠØªØ±
4. Ø§Ù„Ø«Ø±Ù…ÙˆØ³ØªØ§Øª ÙŠÙØªØ­ Ø¹Ù†Ø¯ 80-90 Ø¯Ø±Ø¬Ø©
5. Ø§Ù„Ø±Ø§Ø¯ÙŠØªØ± ÙŠØ¨Ø±Ø¯ Ø§Ù„Ù…Ø§Ø¡ (Ø§Ù„Ù‡ÙˆØ§Ø¡ + Ø§Ù„Ù…Ø±ÙˆØ­Ø©)
6. Ø§Ù„Ù…Ø§Ø¡ Ø§Ù„Ø¨Ø§Ø±Ø¯ ÙŠØ¹ÙˆØ¯ Ù„Ù„Ù…Ø­Ø±Ùƒ

âš ï¸ Ø§Ù„Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©: 85-95 Ø¯Ø±Ø¬Ø© Ù…Ø¦ÙˆÙŠØ©
""",
        'maintenance': [
            'ÙØ­Øµ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø³Ø§Ø¦Ù„ Ø£Ø³Ø¨ÙˆØ¹ÙŠØ§Ù‹',
            'Ø¨Ø¯Ù„ Ø§Ù„Ø³Ø§Ø¦Ù„ ÙƒÙ„ Ø³Ù†ØªÙŠÙ†',
            'Ø¨Ø¯Ù„ Ø§Ù„Ø«Ø±Ù…ÙˆØ³ØªØ§Øª ÙƒÙ„ 80,000 ÙƒÙ…',
            'Ø§ÙØ­Øµ Ø§Ù„Ø®Ø±Ø§Ø·ÙŠÙ… (Ø´Ù‚ÙˆÙ‚ØŒ ØªØµÙ„Ù‘Ø¨)'
        ]
    },
    
    'electrical_system': {
        'name': 'Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ',
        'components': [
            'Ø¨Ø·Ø§Ø±ÙŠØ© (Battery) - 12V',
            'Ø¯ÙŠÙ†Ù…Ùˆ/Ù…ÙˆÙ„Ø¯ (Alternator)',
            'Ø³Ù„Ù/Ù…Ø§Ø±Ø´ (Starter Motor)',
            'ÙƒÙˆÙŠÙ„Ø§Øª Ø§Ù„Ø§Ø´ØªØ¹Ø§Ù„ (Ignition Coils)',
            'Ø­Ø³Ø§Ø³Ø§Øª (Sensors)',
            'ECU - ÙƒÙ…Ø¨ÙŠÙˆØªØ± Ø§Ù„Ø³ÙŠØ§Ø±Ø©',
            'Ø£Ø³Ù„Ø§Ùƒ ÙˆÙÙŠÙˆØ²Ø§Øª'
        ],
        'voltage_checks': {
            'battery_rest': '12.6V (Ù…Ø´Ø­ÙˆÙ†Ø©)',
            'battery_cranking': '9.5V+ (Ø¬ÙŠØ¯)',
            'alternator_running': '13.8-14.4V (ÙŠØ´Ø­Ù†)',
        },
        'common_problems': [
            'Ø§Ù„Ø³ÙŠØ§Ø±Ø© Ù„Ø§ ØªØ¯ÙˆØ± â†’ Ø¨Ø·Ø§Ø±ÙŠØ© ÙØ§Ø±ØºØ© Ø£Ùˆ Ø³Ù„Ù ØªØ§Ù„Ù',
            'Ù„Ù…Ø¨Ø§Øª Ø®Ø§ÙØªØ© â†’ Ø¯ÙŠÙ†Ù…Ùˆ Ø¶Ø¹ÙŠÙ',
            'ØªÙØ±ÙŠØº Ø³Ø±ÙŠØ¹ Ù„Ù„Ø¨Ø·Ø§Ø±ÙŠØ© â†’ Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø®ÙÙŠ Ø£Ùˆ Ø¯ÙŠÙ†Ù…Ùˆ Ù„Ø§ ÙŠØ´Ø­Ù†'
        ]
    }
}


# ====================================================================
# Ø§Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø«Ù‚ÙŠÙ„Ø© - Ù…Ø¹Ø±ÙØ© Ù…ØªØ®ØµØµØ©
# ====================================================================

HEAVY_EQUIPMENT_KNOWLEDGE = {
    'excavator': {
        'name_ar': 'Ø­ÙØ§Ø±Ø©',
        'name_en': 'Excavator',
        'types': [
            'Mini (1-6 Ø·Ù†)',
            'Midi (6-10 Ø·Ù†)',
            'Standard (10-45 Ø·Ù†)',
            'Large (45+ Ø·Ù†)'
        ],
        'main_systems': {
            'hydraulic': {
                'name': 'Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆÙ„ÙŠÙƒÙŠ',
                'components': [
                    'Ù…Ø¶Ø®Ø© Ø±Ø¦ÙŠØ³ÙŠØ© (Main Pump)',
                    'ØµÙ…Ø§Ù…Ø§Øª ØªØ­ÙƒÙ… (Control Valves)',
                    'Ø³Ù„Ù†Ø¯Ø±Ø§Øª (Cylinders)',
                    'Ø®Ø²Ø§Ù† Ø²ÙŠØª',
                    'ÙÙ„Ø§ØªØ±',
                    'Ø®Ø±Ø§Ø·ÙŠÙ… Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¶ØºØ·'
                ],
                'pressure_range': '250-350 bar',
                'oil_capacity': '100-500 Ù„ØªØ± Ø­Ø³Ø¨ Ø§Ù„Ø­Ø¬Ù…',
                'maintenance': [
                    'ÙØ­Øµ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø²ÙŠØª ÙŠÙˆÙ…ÙŠØ§Ù‹',
                    'Ø¨Ø¯Ù„ Ø§Ù„ÙÙ„ØªØ± ÙƒÙ„ 250 Ø³Ø§Ø¹Ø©',
                    'Ø¨Ø¯Ù„ Ø§Ù„Ø²ÙŠØª ÙƒÙ„ 1,000-2,000 Ø³Ø§Ø¹Ø©',
                    'Ø§ÙØ­Øµ Ø§Ù„ØªØ³Ø±ÙŠØ¨Ø§Øª'
                ]
            },
            'undercarriage': {
                'name': 'Ø§Ù„Ø¬Ù†Ø²ÙŠØ± (Undercarriage)',
                'components': [
                    'Ø¬Ù†Ø²ÙŠØ± (Tracks)',
                    'Ø±ÙˆÙ„Ø§Øª Ø¹Ù„ÙˆÙŠØ© (Top Rollers)',
                    'Ø±ÙˆÙ„Ø§Øª Ø³ÙÙ„ÙŠØ© (Bottom Rollers)',
                    'Ø¹Ø¬Ù„Ø© Ù‚ÙŠØ§Ø¯Ø© (Sprocket)',
                    'Ø¹Ø¬Ù„Ø© ØªÙˆØ¬ÙŠÙ‡ (Idler)',
                    'Ù…Ø­Ø±Ùƒ Ø¯ÙˆØ±Ø§Ù† (Travel Motor)'
                ],
                'wear_points': [
                    'Ø£Ø³Ù†Ø§Ù† Ø§Ù„Ø¬Ù†Ø²ÙŠØ±',
                    'Ø±ÙˆÙ„Ù…Ø§Ù†Ø§Øª Ø§Ù„Ø±ÙˆÙ„Ø§Øª',
                    'Ø³ÙŠÙ„Ø§Øª Ù…Ø­Ø±Ùƒ Ø§Ù„Ø¯ÙˆØ±Ø§Ù†'
                ],
                'maintenance': 'ÙØ­Øµ Ø§Ù„ØªÙˆØªØ± (Tension) ÙˆØ§Ù„ØªØ¢ÙƒÙ„ ÙƒÙ„ 100 Ø³Ø§Ø¹Ø©'
            }
        },
        'common_problems': {
            'slow_movement': 'Ø¨Ø·Ø¡ Ø­Ø±ÙƒØ© â†’ ÙØ­Øµ Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆÙ„ÙŠÙƒ ÙˆØ§Ù„ÙÙ„Ø§ØªØ±',
            'weak_digging': 'Ø¶Ø¹Ù Ø­ÙØ± â†’ Ø¶ØºØ· Ù…Ù†Ø®ÙØ¶ Ø£Ùˆ Ù…Ø¶Ø®Ø© Ø¶Ø¹ÙŠÙØ©',
            'deviation': 'Ø§Ù†Ø­Ø±Ø§Ù Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø³ÙŠØ± â†’ Ø¬Ù†Ø²ÙŠØ± Ù…Ø±ØªØ®ÙŠ Ø£Ùˆ Ù…Ø­Ø±Ùƒ Ø¯ÙˆØ±Ø§Ù†'
        }
    },
    
    'loader': {
        'name_ar': 'Ù„ÙˆØ¯Ø± / Ù…Ø­Ù…Ù‘Ù„Ø©',
        'name_en': 'Wheel Loader',
        'types': ['ØµØºÙŠØ± (1-3 ÙŠØ§Ø±Ø¯Ø©Â³)', 'Ù…ØªÙˆØ³Ø· (3-5 ÙŠØ§Ø±Ø¯Ø©Â³)', 'ÙƒØ¨ÙŠØ± (5+ ÙŠØ§Ø±Ø¯Ø©Â³)'],
        'main_systems': {
            'transmission': {
                'name': 'Ù†Ø§Ù‚Ù„ Ø§Ù„Ø­Ø±ÙƒØ©',
                'types': [
                    'Powershift - ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù‡ÙŠØ¯Ø±ÙˆÙ„ÙŠÙƒÙŠ',
                    'Torque Converter - Ù…Ø­ÙˆÙ„ Ø¹Ø²Ù…'
                ],
                'maintenance': [
                    'ÙØ­Øµ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø²ÙŠØª Ø£Ø³Ø¨ÙˆØ¹ÙŠØ§Ù‹',
                    'Ø¨Ø¯Ù„ Ø§Ù„Ø²ÙŠØª ÙƒÙ„ 1,000 Ø³Ø§Ø¹Ø©',
                    'Ø¨Ø¯Ù„ Ø§Ù„ÙÙ„ØªØ± Ù…Ø¹ Ø§Ù„Ø²ÙŠØª'
                ],
                'problems': [
                    'ØªØ£Ø®Ø± ÙÙŠ Ø§Ù„ØªØ¹Ø´ÙŠÙ‚ â†’ Ø²ÙŠØª Ù‚Ø¯ÙŠÙ… Ø£Ùˆ Ù‚Ø§Ø¨Ø¶ ØªØ§Ù„Ù',
                    'Ø§Ù†Ø²Ù„Ø§Ù‚ â†’ Ù‚Ø§Ø¨Ø¶ Ø¨Ø­Ø§Ø¬Ø© Ù„ØªØ¹Ø¯ÙŠÙ„ Ø£Ùˆ ØªØ¨Ø¯ÙŠÙ„'
                ]
            }
        }
    }
}


# ====================================================================
# Ø§Ù„ØªØ´Ø®ÙŠØµ - Ø®Ø¨Ø±Ø© Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠ
# ====================================================================

DIAGNOSTIC_EXPERTISE = {
    'listening_to_sounds': {
        'name': 'Ø§Ù„ØªØ´Ø®ÙŠØµ Ø¨Ø§Ù„ØµÙˆØª - Ø®Ø¨Ø±Ø© Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠ',
        'sounds': {
            'squealing': {
                'sound': 'ØµÙˆØª ØµØ±ÙŠØ± / ØµÙÙŠØ±',
                'possible_causes': [
                    'Ø³ÙŠØ± Ø§Ù„Ù…ÙƒÙŠÙ Ø£Ùˆ Ø§Ù„Ø¯ÙŠÙ†Ù…Ùˆ Ù…Ø±ØªØ®ÙŠ',
                    'ÙØ±Ø§Ù…Ù„ ØªØ­ØªØ§Ø¬ ØªØ¨Ø¯ÙŠÙ„',
                    'Ø±ÙˆÙ„Ù…Ø§Ù† Ø¨Ù„ÙŠ ØªØ§Ù„Ù'
                ]
            },
            'knocking': {
                'sound': 'ØµÙˆØª Ø·Ù‚Ø·Ù‚Ø© / Ø·Ø±Ù‚',
                'possible_causes': [
                    'Ù†Ù‚Øµ Ø²ÙŠØª Ø§Ù„Ù…Ø­Ø±Ùƒ',
                    'Ø±ÙˆÙ„Ù…Ø§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø±Ùƒ ØªØ§Ù„ÙØ©',
                    'ÙˆÙ‚ÙˆØ¯ Ù…Ù†Ø®ÙØ¶ Ø§Ù„Ø£ÙˆÙƒØªØ§Ù† (Detonation)',
                    'ØµÙ…Ø§Ù…Ø§Øª ØºÙŠØ± Ù…Ø¶Ø¨ÙˆØ·Ø© (Valve Clearance)'
                ]
            },
            'grinding': {
                'sound': 'ØµÙˆØª Ø§Ø­ØªÙƒØ§Ùƒ Ù…Ø¹Ø¯Ù†ÙŠ',
                'possible_causes': [
                    'ÙØ±Ø§Ù…Ù„ ØªØ¢ÙƒÙ„Øª ØªÙ…Ø§Ù…Ø§Ù‹ (Ù…Ø¹Ø¯Ù† Ø¹Ù„Ù‰ Ù…Ø¹Ø¯Ù†)',
                    'Ù‚ÙŠØ± ÙŠØ­ØªØ§Ø¬ Ø²ÙŠØª Ø£Ùˆ ØªØ§Ù„Ù',
                    'Ø±ÙˆÙ„Ù…Ø§Ù† Ø¹Ø¬Ù„Ø© ØªØ§Ù„Ù'
                ]
            },
            'hissing': {
                'sound': 'ØµÙˆØª ÙØ­ÙŠØ­ / Ø³ÙØ³',
                'possible_causes': [
                    'ØªØ³Ø±Ø¨ ÙÙŠ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¨Ø±ÙŠØ¯',
                    'ØªØ³Ø±Ø¨ ÙÙŠ Ø§Ù„Ø¹Ø§Ø¯Ù…',
                    'ØªØ³Ø±Ø¨ ÙØ§ÙƒÙˆÙ…'
                ]
            }
        }
    },
    
    'visual_inspection': {
        'name': 'Ø§Ù„ØªØ´Ø®ÙŠØµ Ø§Ù„Ø¨ØµØ±ÙŠ',
        'checks': {
            'fluid_colors': {
                'engine_oil': {
                    'normal': 'Ø°Ù‡Ø¨ÙŠ Ø£Ùˆ Ø¨Ù†ÙŠ ÙØ§ØªØ­',
                    'bad': 'Ø£Ø³ÙˆØ¯ Ø¬Ø¯Ø§Ù‹ â†’ Ø¨Ø­Ø§Ø¬Ø© ØªØ¨Ø¯ÙŠÙ„',
                    'critical': 'Ø£Ø¨ÙŠØ¶ Ø­Ù„ÙŠØ¨ÙŠ â†’ ØªØ³Ø±Ø¨ Ù…Ø§Ø¡ (Ø¬ÙˆØ§Ù† Ø±Ø£Ø³)'
                },
                'coolant': {
                    'normal': 'Ø£Ø®Ø¶Ø± Ø£Ùˆ Ø£Ø­Ù…Ø± Ø£Ùˆ Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ (Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹)',
                    'bad': 'Ø¨Ù†ÙŠ ØºØ§Ù…Ù‚ â†’ ØµØ¯Ø£ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…',
                    'critical': 'Ø²ÙŠØªÙŠ â†’ ØªØ³Ø±Ø¨ Ø²ÙŠØª Ù„Ù„ØªØ¨Ø±ÙŠØ¯'
                },
                'brake_fluid': {
                    'normal': 'Ø´ÙØ§Ù Ø£Ùˆ Ø£ØµÙØ± ÙØ§ØªØ­',
                    'bad': 'Ø¨Ù†ÙŠ ØºØ§Ù…Ù‚ â†’ Ø¨Ø­Ø§Ø¬Ø© ØªØ¨Ø¯ÙŠÙ„',
                    'note': 'ÙŠÙ…ØªØµ Ø§Ù„Ø±Ø·ÙˆØ¨Ø© - Ø¨Ø¯Ù„Ù‡ ÙƒÙ„ Ø³Ù†ØªÙŠÙ†'
                }
            },
            'smoke_colors': {
                'white': 'Ø£Ø¨ÙŠØ¶ ÙƒØ«ÙŠÙ â†’ Ø§Ø­ØªØ±Ø§Ù‚ Ø³Ø§Ø¦Ù„ ØªØ¨Ø±ÙŠØ¯ (Ø¬ÙˆØ§Ù† Ø±Ø£Ø³)',
                'blue': 'Ø£Ø²Ø±Ù‚ â†’ Ø§Ø­ØªØ±Ø§Ù‚ Ø²ÙŠØª (Ø­Ù„Ù‚Ø§Øª Ù…ÙƒØ§Ø¨Ø³ Ø£Ùˆ ØµÙ…Ø§Ù…Ø§Øª)',
                'black': 'Ø£Ø³ÙˆØ¯ â†’ Ø®Ù„ÙŠØ· ØºÙ†ÙŠ (Ø¨Ø®Ø§Ø®Ø§Øª Ø£Ùˆ Ø­Ø³Ø§Ø³ Ø£ÙƒØ³Ø¬ÙŠÙ†)'
            }
        }
    }
}


# ====================================================================
# Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ´Ø®ÙŠØµ Ø§Ù„Ø°ÙƒÙŠ
# ====================================================================

def diagnose_problem(symptoms_list: list) -> dict:
    """ØªØ´Ø®ÙŠØµ Ø°ÙƒÙŠ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶"""
    possible_problems = []
    
    symptoms_lower = [s.lower() for s in symptoms_list]
    
    for problem_key, problem_data in COMMON_PROBLEMS.items():
        score = 0
        problem_symptoms = [s.lower() for s in problem_data.get('symptoms', [])]
        
        for symptom in symptoms_lower:
            for prob_symptom in problem_symptoms:
                if symptom in prob_symptom or prob_symptom in symptom:
                    score += 1
        
        if score > 0:
            possible_problems.append({
                'problem': problem_data['name_ar'],
                'score': score,
                'data': problem_data
            })
    
    possible_problems.sort(key=lambda x: x['score'], reverse=True)
    
    return {
        'diagnosis': possible_problems[:3] if possible_problems else [],
        'confidence': 'Ø¹Ø§Ù„ÙŠØ©' if possible_problems and possible_problems[0]['score'] >= 2 else 'Ù…ØªÙˆØ³Ø·Ø©'
    }


def get_repair_guide(problem_name: str) -> str:
    """Ø¯Ù„ÙŠÙ„ Ø¥ØµÙ„Ø§Ø­ Ù…ÙØµÙ„"""
    for problem_key, problem_data in COMMON_PROBLEMS.items():
        if problem_name.lower() in problem_data.get('name_ar', '').lower():
            guide = f"""ğŸ”§ **Ø¯Ù„ÙŠÙ„ Ø¥ØµÙ„Ø§Ø­: {problem_data['name_ar']}**

âš ï¸ **Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶:**
"""
            for symptom in problem_data.get('symptoms', []):
                guide += f"  â€¢ {symptom}\n"
            
            guide += "\nğŸ” **Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ´Ø®ÙŠØµ:**\n"
            for step in problem_data.get('diagnosis_steps', []):
                guide += f"  {step}\n"
            
            guide += "\nâœ… **Ø§Ù„Ø­Ù„ÙˆÙ„ Ø§Ù„Ù…Ù…ÙƒÙ†Ø©:**\n"
            for solution in problem_data.get('solutions', []):
                guide += f"  â€¢ {solution}\n"
            
            if problem_data.get('parts_needed'):
                guide += "\nğŸ“¦ **Ø§Ù„Ù‚Ø·Ø¹ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:**\n"
                for part in problem_data['parts_needed']:
                    guide += f"  â€¢ {part}\n"
            
            if problem_data.get('emergency'):
                guide += f"\nğŸš¨ **ØªØ­Ø°ÙŠØ±:** {problem_data['emergency']}\n"
            
            return guide
    
    return f"âŒ Ù„Ù… Ø£Ø¬Ø¯ Ø¯Ù„ÙŠÙ„ Ø¥ØµÙ„Ø§Ø­ Ù„Ù€ \"{problem_name}\""

