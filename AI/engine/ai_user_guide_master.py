"""
๐ AI User Guide Master - ุญุงูุธ ุฏููู ุงููุณุชุฎุฏู ุนู ุธูุฑ ููุจ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

ูุธููุฉ ูุฐุง ุงูููู:
- ุญูุธ ุฏููู ุงููุณุชุฎุฏู ูุงููุงู
- ุงูุฅุฌุงุจุฉ ุนูู ุฃู ุณุคุงู ุนู ุงููุธุงู
- ุดุฑุญ ูู ููุฒุฉ ุจุงูุชูุตูู
- ุฅุฑุดุงุฏ ุงููุณุชุฎุฏููู ุฎุทูุฉ ุจุฎุทูุฉ
- ูุนุฑูุฉ ูู ุฒุฑ ููู ุญูู

Created: 2025-11-01
Version: User Guide Master 1.0 - COMPLETE KNOWLEDGE
"""

from typing import Dict, List, Any, Optional


# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ๐ COMPLETE USER GUIDE
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

COMPLETE_USER_GUIDE = {
    "system_name": "ูุธุงู ุฅุฏุงุฑุฉ ูุฑุงุฌุงุช ุงูุณูุงุฑุงุช - Azad Garage Manager Pro",
    "version": "5.0 Ultimate Edition",
    
    # โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    # 1. ุงูุนููุงุก (Customers)
    # โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    "customers": {
        "description": "ุฅุฏุงุฑุฉ ุดุงููุฉ ูุนููุงุก ุงููุฑุงุฌ",
        "main_route": "/customers",
        "features": {
            "add_customer": {
                "route": "/customers/create",
                "fields": {
                    "name": "ุงุณู ุงูุนููู (ุฅุฌุจุงุฑู)",
                    "phone": "ุฑูู ุงููุงุชู (ุฅุฌุจุงุฑูุ ูุฑูุฏ)",
                    "email": "ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ุงุฎุชูุงุฑู)",
                    "address": "ุงูุนููุงู (ุงุฎุชูุงุฑู)",
                    "id_number": "ุฑูู ุงููููุฉ (ุงุฎุชูุงุฑู)",
                    "opening_balance": "ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู (ุงูุชุฑุงุถู: 0)",
                    "notes": "ููุงุญุธุงุช (ุงุฎุชูุงุฑู)"
                },
                "steps": [
                    "1. ุงูุชูู ุฅูู 'ุงูุนููุงุก' ูู ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ",
                    "2. ุงุถุบุท 'ุฅุถุงูุฉ ุนููู ุฌุฏูุฏ'",
                    "3. ุงููุฃ ุงูุจูุงูุงุช ุงููุทููุจุฉ (ุงูุงุณู ูุงููุงุชู ุฅุฌุจุงุฑูุงู)",
                    "4. ุฃุฏุฎู ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู ุฅุฐุง ูุงู ุงูุนููู ูู ุฑุตูุฏ ุณุงุจู",
                    "5. ุงุถุบุท 'ุญูุธ'",
                    "6. ุณูุชู ุฅูุดุงุก ููุฏ ูุญุงุณุจู ุชููุงุฆูุงู ููุฑุตูุฏ ุงูุงูุชุชุงุญู"
                ],
                "tips": [
                    "ุฑูู ุงููุงุชู ูุฌุจ ุฃู ูููู ูุฑูุฏุงู",
                    "ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู ุงูููุฌุจ = ุงูุนููู ูู ุฑุตูุฏ (ุฏุงุฆู)",
                    "ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู ุงูุณุงูุจ = ุงูุนููู ุนููู ุฑุตูุฏ (ูุฏูู)"
                ],
                "gl_effect": "ูุชู ุฅูุดุงุก ููุฏ ูุญุงุณุจู ุชููุงุฆูุงู: ูุฏูู: ุฐูู ุนููุงุกุ ุฏุงุฆู: ุฑุฃุณ ุงููุงู"
            },
            "view_customers": {
                "route": "/customers",
                "features": [
                    "ุนุฑุถ ุฌููุน ุงูุนููุงุก ูู ุฌุฏูู",
                    "ุงูุจุญุซ ุจุงูุงุณู ุฃู ุงููุงุชู",
                    "ุชุฑุชูุจ ุญุณุจ ุงูุฑุตูุฏ ุฃู ุงูุชุงุฑูุฎ",
                    "ุนุฑุถ ุงูุฑุตูุฏ ุงูุญุงูู ููู ุนููู",
                    "ุฃููุงู ุงูุฑุตูุฏ: ุฃุญูุฑ (ุนููู)ุ ุฃุฎุถุฑ (ูู)"
                ]
            },
            "customer_statement": {
                "route": "/customers/<id>/statement",
                "description": "ูุดู ุญุณุงุจ ุชูุตููู ููุนููู",
                "shows": [
                    "ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู",
                    "ุฌููุน ุงููุจูุนุงุช (ูุฏูู)",
                    "ุฌููุน ุงูุฏูุนุงุช (ุฏุงุฆู)",
                    "ุงูููุงุชูุฑ",
                    "ุงูุฎุฏูุงุช",
                    "ุงูุฑุตูุฏ ุงูููุงุฆู"
                ],
                "filters": [
                    "ุญุณุจ ุงูุชุงุฑูุฎ (ูู - ุฅูู)",
                    "ุญุณุจ ููุน ุงููุนุงููุฉ"
                ]
            },
            "edit_customer": {
                "route": "/customers/<id>/edit",
                "note": "ูููู ุชุนุฏูู ูู ุงูุจูุงูุงุช ูุง ุนุฏุง ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู (ูุชุทูุจ ุตูุงุญูุงุช ุฎุงุตุฉ)"
            },
            "delete_customer": {
                "route": "/customers/<id>/delete",
                "note": "ุญุฐู ููุทูู ููุท - ูุง ูุชู ุญุฐู ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช",
                "conditions": [
                    "ูุง ุชูุฌุฏ ูุนุงููุงุช ูุงููุฉ ููุนููู",
                    "ุงูุฑุตูุฏ = 0"
                ]
            }
        }
    },
    
    # โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    # 2. ุงูููุฑุฏูู (Suppliers)
    # โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    "suppliers": {
        "description": "ุฅุฏุงุฑุฉ ููุฑุฏู ูุทุน ุงูุบูุงุฑ ูุงูููุชุฌุงุช",
        "main_route": "/suppliers",
        "features": {
            "add_supplier": {
                "route": "/suppliers/create",
                "fields": {
                    "name": "ุงุณู ุงูููุฑุฏ (ุฅุฌุจุงุฑู)",
                    "phone": "ุฑูู ุงููุงุชู (ุฅุฌุจุงุฑูุ ูุฑูุฏ)",
                    "email": "ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ุงุฎุชูุงุฑู)",
                    "address": "ุงูุนููุงู (ุงุฎุชูุงุฑู)",
                    "company": "ุงุณู ุงูุดุฑูุฉ (ุงุฎุชูุงุฑู)",
                    "opening_balance": "ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู",
                    "notes": "ููุงุญุธุงุช"
                },
                "gl_effect": "ููุฏ ุงูุชุชุงุญู: ูุฏูู: ุฑุฃุณ ุงููุงูุ ุฏุงุฆู: ุฐูู ููุฑุฏูู"
            },
            "supplier_statement": {
                "description": "ูุดู ุญุณุงุจ ุงูููุฑุฏ",
                "shows": [
                    "ุงููุดุชุฑูุงุช (ุฏุงุฆู - ูุง ูุฏูู ูู)",
                    "ุงูุฏูุนุงุช (ูุฏูู - ูุง ุฏูุนูุง ูู)",
                    "ุงูุฑุตูุฏ (ุณุงูุจ = ูุฏูู ููุ ููุฌุจ = ุฏุงุฆู ููุง)"
                ]
            }
        }
    },
    
    # โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    # 3. ุงูููุชุฌุงุช (Products)
    # โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    "products": {
        "description": "ุฅุฏุงุฑุฉ ูุทุน ุงูุบูุงุฑ ูุงูููุชุฌุงุช",
        "main_route": "/products",
        "features": {
            "add_product": {
                "route": "/products/create",
                "fields": {
                    "name": "ุงุณู ุงูููุชุฌ (ุฅุฌุจุงุฑู)",
                    "barcode": "ุงูุจุงุฑููุฏ (ุงุฎุชูุงุฑูุ ูุฑูุฏ)",
                    "category": "ุงูุชุตููู (ูุทุน ุบูุงุฑุ ุฒููุชุ ุฅุทุงุฑุงุชุ ุฅูุฎ)",
                    "cost_price": "ุณุนุฑ ุงูุชูููุฉ",
                    "selling_price": "ุณุนุฑ ุงูุจูุน",
                    "min_quantity": "ุงูุญุฏ ุงูุฃุฏูู ูููุฎุฒูู",
                    "reorder_level": "ููุทุฉ ุฅุนุงุฏุฉ ุงูุทูุจ",
                    "notes": "ููุงุญุธุงุช"
                },
                "features": [
                    "ุชูุจูู ุชููุงุฆู ุนูุฏ ูุตูู ุงููุฎุฒูู ููุญุฏ ุงูุฃุฏูู",
                    "ุญุณุงุจ ูุงูุด ุงูุฑุจุญ ุชููุงุฆูุงู",
                    "ุฏุนู ุงูุจุงุฑููุฏ"
                ]
            },
            "stock_levels": {
                "description": "ูุณุชููุงุช ุงููุฎุฒูู ูู ูู ูุณุชูุฏุน",
                "features": [
                    "ุนุฑุถ ุงููููุฉ ูู ูู ูุณุชูุฏุน",
                    "ุงููุฎุฒูู ุงูููู",
                    "ุชูุจููุงุช ุงููุฎุฒูู ุงูููุฎูุถ"
                ]
            }
        }
    },
    
    # โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    # 4. ุงููุจูุนุงุช (Sales)
    # โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    "sales": {
        "description": "ุฅุฏุงุฑุฉ ูุจูุนุงุช ูุทุน ุงูุบูุงุฑ",
        "main_route": "/sales",
        "features": {
            "create_sale": {
                "route": "/sales/create",
                "steps": [
                    "1. ุงุฎุชุฑ ุงูุนููู (ุฃู ููุฏู/ูุงุด)",
                    "2. ุงุฎุชุฑ ุงููุณุชูุฏุน",
                    "3. ุฃุถู ุงูููุชุฌุงุช (ุงุจุญุซ ุจุงูุงุณู ุฃู ุงูุณุญ ุงูุจุงุฑููุฏ)",
                    "4. ุญุฏุฏ ุงููููุฉ ูุงูุณุนุฑ ููู ููุชุฌ",
                    "5. ุฃุถู ุฎุตู ุฅุฐุง ูุฒู (ูุณุจุฉ ูุฆููุฉ ุฃู ูููุฉ ุซุงุจุชุฉ)",
                    "6. ุงููุธุงู ูุญุณุจ ุงูู VAT ุชููุงุฆูุงู (16%)",
                    "7. ุงุถุบุท 'ุญูุธ'",
                    "8. ููููู ุทุจุงุนุฉ ุงููุงุชูุฑุฉ"
                ],
                "calculations": {
                    "subtotal": "ูุฌููุน ุงูููุชุฌุงุช (ูุจู ุงูุฎุตู)",
                    "discount": "ุงูุฎุตู (ูุณุจุฉ ุฃู ูููุฉ)",
                    "net": "ุงูุตุงูู ุจุนุฏ ุงูุฎุตู",
                    "vat": "ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ (16% ูู ุงูุตุงูู)",
                    "total": "ุงูุฅุฌูุงูู ุงูููุงุฆู (ุงูุตุงูู + VAT)"
                },
                "gl_entries": {
                    "debit": [
                        {"account": "ุฐูู ุนููุงุก (1300)", "amount": "ุงูุฅุฌูุงูู"}
                    ],
                    "credit": [
                        {"account": "ูุจูุนุงุช (4000)", "amount": "ุงูุตุงูู"},
                        {"account": "ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ (2100)", "amount": "VAT"}
                    ]
                },
                "stock_effect": "ูุชู ุฎุตู ุงููููุฉ ูู ุงููุณุชูุฏุน ุงููุฎุชุงุฑ ุชููุงุฆูุงู",
                "partner_warehouse": {
                    "note": "ุฅุฐุง ูุงู ุงููุณุชูุฏุน ูู ููุน 'ุดุฑูู'ุ ูุชู ุฅูุดุงุก ุฐูุฉ ููุดุฑูู ุชููุงุฆูุงู"
                }
            },
            "view_sales": {
                "route": "/sales",
                "features": [
                    "ุนุฑุถ ุฌููุน ุงููุจูุนุงุช",
                    "ููุชุฑุฉ ุญุณุจ ุงูุชุงุฑูุฎ",
                    "ููุชุฑุฉ ุญุณุจ ุงูุนููู",
                    "ููุชุฑุฉ ุญุณุจ ุงููุณุชูุฏุน",
                    "ุงูุจุญุซ ุจุฑูู ุงููุงุชูุฑุฉ",
                    "ุนุฑุถ ุงูุฅุฌูุงูู ูุงูุฑุจุญ"
                ]
            },
            "sale_details": {
                "route": "/sales/<id>",
                "shows": [
                    "ุชูุงุตูู ุงูุจูุน ูุงููุฉ",
                    "ุงูููุชุฌุงุช ุงููุจุงุนุฉ",
                    "ุงููููุฏ ุงููุญุงุณุจูุฉ ุงููุฑุชุจุทุฉ",
                    "ุงูุฏูุนุงุช ุงููุฑุชุจุทุฉ",
                    "ุฅููุงููุฉ ุงูุทุจุงุนุฉ"
                ]
            }
        }
    },
    
    # โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    # 5. ุงูุฏูุนุงุช (Payments)
    # โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    "payments": {
        "description": "ุฅุฏุงุฑุฉ ุงูุฏูุนุงุช ุงููุงุฑุฏุฉ ูุงูุตุงุฏุฑุฉ",
        "main_route": "/payments",
        "types": {
            "incoming": {
                "description": "ุฏูุนุฉ ูุงุฑุฏุฉ (ูู ุงูุนููู ุฅูููุง)",
                "direction": "IN",
                "gl_entry": {
                    "debit": "ุงูุตูุฏูู/ุงูุจูู",
                    "credit": "ุฐูู ุนููุงุก"
                }
            },
            "outgoing": {
                "description": "ุฏูุนุฉ ุตุงุฏุฑุฉ (ููุง ููููุฑุฏ/ุดุฑูู)",
                "direction": "OUT",
                "gl_entry": {
                    "debit": "ุฐูู ููุฑุฏูู/ุดุฑูุงุก",
                    "credit": "ุงูุตูุฏูู/ุงูุจูู"
                }
            }
        },
        "payment_methods": {
            "CASH": "ููุฏู (ูุคุซุฑ ุนูู ุงูุตูุฏูู)",
            "BANK": "ุจููู (ูุคุซุฑ ุนูู ุงูุจูู)",
            "CARD": "ุจุทุงูุฉ ุงุฆุชูุงู",
            "CHECK": "ุดูู (ูุชุทูุจ ุฑูู ุดูู)"
        },
        "features": {
            "create_payment": {
                "route": "/payments/create",
                "fields": {
                    "direction": "IN (ูุงุฑุฏ) ุฃู OUT (ุตุงุฏุฑ)",
                    "method": "ุทุฑููุฉ ุงูุฏูุน",
                    "entity_type": "ููุน ุงูุฌูุฉ (ุนููู/ููุฑุฏ/ุดุฑูู)",
                    "entity_id": "ุงูุฌูุฉ ุงููุญุฏุฏุฉ",
                    "amount": "ุงููุจูุบ",
                    "reference": "ุงููุฑุฌุน (ุฑูู ุดููุ ุฑูู ุญูุงูุฉุ ุฅูุฎ)",
                    "notes": "ููุงุญุธุงุช"
                }
            },
            "link_to_sale": {
                "description": "ุฑุจุท ุงูุฏูุนุฉ ุจูุงุชูุฑุฉ ูุญุฏุฏุฉ",
                "benefit": "ูุชุชุจุน ุฏูุนุงุช ุงูููุงุชูุฑ"
            }
        }
    },
    
    # โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    # 6. ุงููุฎุงุฒู (Warehouses)
    # โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    "warehouses": {
        "description": "ุฅุฏุงุฑุฉ ุงููุณุชูุฏุนุงุช",
        "main_route": "/warehouses",
        "types": {
            "MAIN": "ุงููุณุชูุฏุน ุงูุฑุฆูุณู",
            "ONLINE": "ุงููุชุฌุฑ ุงูุฅููุชุฑููู",
            "PARTNER": "ูุณุชูุฏุน ุดุฑูู",
            "INVENTORY": "ุฌุฑุฏ",
            "EXCHANGE": "ุงุณุชุจุฏุงู"
        },
        "features": {
            "stock_transfer": {
                "route": "/warehouses/transfer",
                "description": "ููู ุจุถุงุนุฉ ุจูู ูุณุชูุฏุนูู",
                "gl_effect": "ูุง ููุฌุฏ ููุฏ ูุญุงุณุจู (ููู ุฏุงุฎูู ููุท)"
            },
            "stock_adjustment": {
                "route": "/warehouses/adjust",
                "description": "ุชุนุฏูู ุงููุฎุฒูู (ุฌุฑุฏุ ุชุงููุ ููููุฏ)",
                "gl_effect": "ุญุณุจ ููุน ุงูุชุนุฏูู"
            }
        }
    },
    
    # โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    # 7. ุงููุตุฑููุงุช (Expenses)
    # โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    "expenses": {
        "description": "ุชุณุฌูู ูุตุฑููุงุช ุงููุฑุงุฌ",
        "main_route": "/expenses",
        "categories": [
            "ุฑูุงุชุจ",
            "ุฅูุฌุงุฑ",
            "ููุฑุจุงุก ูููุงู",
            "ุตูุงูุฉ",
            "ููุงุตูุงุช",
            "ูุฑุทุงุณูุฉ",
            "ุฃุฎุฑู"
        ],
        "features": {
            "create_expense": {
                "route": "/expenses/create",
                "fields": {
                    "category": "ุงูุชุตููู",
                    "amount": "ุงููุจูุบ",
                    "description": "ุงููุตู",
                    "date": "ุงูุชุงุฑูุฎ",
                    "payment_method": "ุทุฑููุฉ ุงูุฏูุน",
                    "reference": "ุงููุฑุฌุน"
                },
                "gl_effect": "ูุฏูู: ูุตุฑููุงุชุ ุฏุงุฆู: ุงูุตูุฏูู/ุงูุจูู"
            }
        }
    },
    
    # โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    # 8. ุงูุตูุงูุฉ (Services)
    # โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    "services": {
        "description": "ุฅุฏุงุฑุฉ ุทูุจุงุช ุงูุตูุงูุฉ",
        "main_route": "/services",
        "workflow": {
            "1_create": "ุฅูุดุงุก ุทูุจ ุตูุงูุฉ",
            "2_assign": "ุชุนููู ูููุงูููู",
            "3_start": "ุจุฏุก ุงูุนูู",
            "4_complete": "ุฅููุงู ุงูุตูุงูุฉ",
            "5_invoice": "ุฅูุดุงุก ูุงุชูุฑุฉ"
        },
        "statuses": {
            "pending": "ูุนูู",
            "in_progress": "ุฌุงุฑู ุงูุนูู",
            "completed": "ููุชูู",
            "cancelled": "ููุบู"
        },
        "features": {
            "create_service": {
                "route": "/services/create",
                "fields": {
                    "customer_id": "ุงูุนููู",
                    "car_info": "ูุนูููุงุช ุงูุณูุงุฑุฉ (ููุนุ ููุฏููุ ุฑูู)",
                    "description": "ูุตู ุงูุนุทู",
                    "mechanic_id": "ุงููููุงูููู ุงููุณุคูู",
                    "estimated_cost": "ุงูุชูููุฉ ุงููุชููุนุฉ",
                    "estimated_time": "ุงูููุช ุงููุชููุน"
                }
            },
            "service_parts": {
                "description": "ุฅุถุงูุฉ ูุทุน ุบูุงุฑ ูุณุชุฎุฏูุฉ ูู ุงูุตูุงูุฉ",
                "effect": "ูุชู ุฎุตููุง ูู ุงููุฎุฒูู"
            },
            "complete_service": {
                "description": "ุฅููุงู ุงูุตูุงูุฉ",
                "creates": "ูุงุชูุฑุฉ ุชููุงุฆูุฉ (ูุทุน ุงูุบูุงุฑ + ุฃุฌุฑุฉ ุงูุนูู)"
            }
        }
    },
    
    # โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    # 9. ุงูุชูุงุฑูุฑ (Reports)
    # โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    "reports": {
        "description": "ุชูุงุฑูุฑ ุดุงููุฉ",
        "types": {
            "financial": {
                "balance_sheet": {
                    "route": "/reports/balance-sheet",
                    "description": "ุงูููุฒุงููุฉ ุงูุนููููุฉ",
                    "shows": ["ุงูุฃุตูู", "ุงูุฎุตูู", "ุญููู ุงูููููุฉ"]
                },
                "income_statement": {
                    "route": "/reports/income-statement",
                    "description": "ูุงุฆูุฉ ุงูุฏุฎู",
                    "shows": ["ุงูุฅูุฑุงุฏุงุช", "ุงููุตุฑููุงุช", "ุตุงูู ุงูุฑุจุญ"]
                },
                "trial_balance": {
                    "route": "/reports/trial-balance",
                    "description": "ููุฒุงู ุงููุฑุงุฌุนุฉ",
                    "shows": ["ูู ุงูุญุณุงุจุงุช ูุน ุงููุฏูู ูุงูุฏุงุฆู"]
                },
                "cash_flow": {
                    "route": "/reports/cash-flow",
                    "description": "ุงูุชุฏููุงุช ุงูููุฏูุฉ"
                }
            },
            "sales": {
                "sales_report": "ุชูุฑูุฑ ุงููุจูุนุงุช (ููููุ ุดูุฑูุ ุณููู)",
                "top_customers": "ุฃูุถู ุงูุนููุงุก",
                "top_products": "ุฃูุซุฑ ุงูููุชุฌุงุช ูุจูุนุงู"
            },
            "inventory": {
                "stock_report": "ุชูุฑูุฑ ุงููุฎุฒูู ุงูุญุงูู",
                "stock_movements": "ุญุฑูุฉ ุงููุฎุฒูู",
                "low_stock": "ููุชุฌุงุช ููุฎูุถุฉ ุงููุฎุฒูู"
            }
        }
    },
    
    # โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    # 10. ุฏูุชุฑ ุงูุฃุณุชุงุฐ (General Ledger)
    # โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    "general_ledger": {
        "description": "ุงููุธุงู ุงููุญุงุณุจู ุงููุงูู",
        "main_route": "/gl",
        "concepts": {
            "chart_of_accounts": {
                "description": "ุฏููู ุงูุญุณุงุจุงุช - 87 ุญุณุงุจ",
                "categories": {
                    "1000": "ุงูุฃุตูู (Assets)",
                    "2000": "ุงูุฎุตูู (Liabilities)",
                    "3000": "ุญููู ุงูููููุฉ (Equity)",
                    "4000": "ุงูุฅูุฑุงุฏุงุช (Revenue)",
                    "5000": "ุงููุตุฑููุงุช (Expenses)"
                }
            },
            "gl_entries": {
                "description": "ุงููููุฏ ุงููุญุงุณุจูุฉ",
                "rule": "ุงููุฏูู = ุงูุฏุงุฆู (ุฏุงุฆูุงู)",
                "auto_creation": "ูุชู ุฅูุดุงุก ุงููููุฏ ุชููุงุฆูุงู ููู ูุนุงููุฉ"
            },
            "gl_batch": {
                "description": "ุฏูุนุฉ ูููุฏ (ูุฌููุนุฉ ูููุฏ ููุนุงููุฉ ูุงุญุฏุฉ)",
                "contains": "ููุฏ ุฃู ุฃูุซุฑุ ูุฑุชุจุทุฉ ุจูุนุงููุฉ ูุญุฏุฏุฉ"
            }
        },
        "features": {
            "view_gl": {
                "route": "/gl",
                "shows": "ูู ุงููููุฏ ุงููุญุงุณุจูุฉ ูุน ุฅููุงููุฉ ุงูููุชุฑุฉ"
            },
            "account_ledger": {
                "route": "/gl/account/<account_code>",
                "shows": "ุฏูุชุฑ ุงูุฃุณุชุงุฐ ูุญุณุงุจ ูุญุฏุฏ"
            }
        }
    }
}


# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ๐ USER GUIDE MASTER
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

class UserGuideMaster:
    """
    ุญุงูุธ ุฏููู ุงููุณุชุฎุฏู - ูุนุฑู ูู ุดูุก
    
    ุงููุฏุฑุงุช:
    1. ุงูุฅุฌุงุจุฉ ุนูู ุฃู ุณุคุงู ุนู ุงููุธุงู
    2. ุดุฑุญ ุฃู ููุฒุฉ ุจุงูุชูุตูู
    3. ุฅุฑุดุงุฏ ุฎุทูุฉ ุจุฎุทูุฉ
    4. ูุนุฑูุฉ ูู ุฒุฑ ููู ุญูู
    """
    
    def __init__(self):
        self.guide = COMPLETE_USER_GUIDE
        self.shortcuts = self._build_shortcuts()
    
    def answer_question(self, question: str) -> Dict[str, Any]:
        """
        ุงูุฅุฌุงุจุฉ ุนูู ุณุคุงู ุนู ุงููุธุงู
        
        Args:
            question: ุงูุณุคุงู
        
        Returns:
            ุฅุฌุงุจุฉ ุดุงููุฉ ูุน ุฎุทูุงุช
        """
        question_lower = question.lower()
        
        # ุงูุชุดุงู ุงูููุถูุน
        if any(word in question_lower for word in ['ุนููู', 'customer', 'ุฒุจูู']):
            return self._explain_customers(question)
        
        elif any(word in question_lower for word in ['ููุฑุฏ', 'supplier']):
            return self._explain_suppliers(question)
        
        elif any(word in question_lower for word in ['ููุชุฌ', 'product', 'ูุทุนุฉ', 'ุจุถุงุนุฉ']):
            return self._explain_products(question)
        
        elif any(word in question_lower for word in ['ุจูุน', 'ูุจูุนุงุช', 'sale', 'ูุงุชูุฑุฉ']):
            return self._explain_sales(question)
        
        elif any(word in question_lower for word in ['ุฏูุนุฉ', 'payment', 'ุฏูุน']):
            return self._explain_payments(question)
        
        elif any(word in question_lower for word in ['ูุฎุฒู', 'warehouse', 'ูุณุชูุฏุน']):
            return self._explain_warehouses(question)
        
        elif any(word in question_lower for word in ['ูุตุฑูู', 'expense']):
            return self._explain_expenses(question)
        
        elif any(word in question_lower for word in ['ุตูุงูุฉ', 'service', 'ูุฑุดุฉ']):
            return self._explain_services(question)
        
        elif any(word in question_lower for word in ['ุชูุฑูุฑ', 'report']):
            return self._explain_reports(question)
        
        elif any(word in question_lower for word in ['ูุญุงุณุจ', 'ููุฏ', 'gl', 'ledger']):
            return self._explain_gl(question)
        
        else:
            return self._general_help()
    
    def _explain_customers(self, question: str) -> Dict:
        """ุดุฑุญ ุฅุฏุงุฑุฉ ุงูุนููุงุก"""
        customers = self.guide['customers']
        
        if 'ุฅุถุงูุฉ' in question or 'add' in question.lower():
            feature = customers['features']['add_customer']
            return {
                'topic': 'ุฅุถุงูุฉ ุนููู ุฌุฏูุฏ',
                'route': feature['route'],
                'steps': feature['steps'],
                'fields': feature['fields'],
                'tips': feature['tips'],
                'gl_effect': feature['gl_effect']
            }
        
        elif 'ูุดู' in question or 'statement' in question.lower():
            feature = customers['features']['customer_statement']
            return {
                'topic': 'ูุดู ุญุณุงุจ ุงูุนููู',
                'description': feature['description'],
                'route': feature['route'],
                'shows': feature['shows'],
                'filters': feature['filters']
            }
        
        else:
            return {
                'topic': 'ุฅุฏุงุฑุฉ ุงูุนููุงุก',
                'description': customers['description'],
                'route': customers['main_route'],
                'features': list(customers['features'].keys())
            }
    
    def _explain_sales(self, question: str) -> Dict:
        """ุดุฑุญ ุงููุจูุนุงุช"""
        sales = self.guide['sales']
        
        if 'ุฅูุดุงุก' in question or 'create' in question.lower() or 'add' in question.lower():
            feature = sales['features']['create_sale']
            return {
                'topic': 'ุฅูุดุงุก ูุงุชูุฑุฉ ุจูุน',
                'route': feature['route'],
                'steps': feature['steps'],
                'calculations': feature['calculations'],
                'gl_entries': feature['gl_entries'],
                'stock_effect': feature['stock_effect']
            }
        
        else:
            return {
                'topic': 'ุงููุจูุนุงุช',
                'description': sales['description'],
                'route': sales['main_route'],
                'features': list(sales['features'].keys())
            }
    
    def _explain_gl(self, question: str) -> Dict:
        """ุดุฑุญ ุฏูุชุฑ ุงูุฃุณุชุงุฐ"""
        gl = self.guide['general_ledger']
        
        return {
            'topic': 'ุฏูุชุฑ ุงูุฃุณุชุงุฐ ุงูุนุงู',
            'description': gl['description'],
            'route': gl['main_route'],
            'concepts': gl['concepts'],
            'features': gl['features']
        }
    
    def _build_shortcuts(self) -> Dict:
        """ุจูุงุก ุงุฎุชุตุงุฑุงุช ุณุฑูุนุฉ"""
        return {
            'add_customer': '/customers/create',
            'add_supplier': '/suppliers/create',
            'add_product': '/products/create',
            'create_sale': '/sales/create',
            'create_payment': '/payments/create',
            'view_reports': '/reports',
            'balance_sheet': '/reports/balance-sheet',
            'income_statement': '/reports/income-statement'
        }
    
    def _explain_suppliers(self, q): return {'topic': 'ุงูููุฑุฏูู', 'guide': self.guide['suppliers']}
    def _explain_products(self, q): return {'topic': 'ุงูููุชุฌุงุช', 'guide': self.guide['products']}
    def _explain_payments(self, q): return {'topic': 'ุงูุฏูุนุงุช', 'guide': self.guide['payments']}
    def _explain_warehouses(self, q): return {'topic': 'ุงููุฎุงุฒู', 'guide': self.guide['warehouses']}
    def _explain_expenses(self, q): return {'topic': 'ุงููุตุฑููุงุช', 'guide': self.guide['expenses']}
    def _explain_services(self, q): return {'topic': 'ุงูุตูุงูุฉ', 'guide': self.guide['services']}
    def _explain_reports(self, q): return {'topic': 'ุงูุชูุงุฑูุฑ', 'guide': self.guide['reports']}
    
    def _general_help(self) -> Dict:
        """ูุณุงุนุฏุฉ ุนุงูุฉ"""
        return {
            'system_name': self.guide['system_name'],
            'version': self.guide['version'],
            'modules': list(self.guide.keys()),
            'message': 'ุฃูุง ุฃุนุฑู ูู ุดูุก ุนู ุงููุธุงู! ุงุณุฃููู ุฃู ุณุคุงู ูุญุฏุฏ.'
        }


# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ๐ฏ SINGLETON
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

_guide_master = None

def get_user_guide_master() -> UserGuideMaster:
    """ุงูุญุตูู ุนูู ุญุงูุธ ุงูุฏููู (Singleton)"""
    global _guide_master
    
    if _guide_master is None:
        _guide_master = UserGuideMaster()
    
    return _guide_master


__all__ = [
    'UserGuideMaster',
    'get_user_guide_master',
    'COMPLETE_USER_GUIDE'
]

