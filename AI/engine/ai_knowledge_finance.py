

FINANCE_KNOWLEDGE = {
    "accounting_principles": {
        "ุงุณุชุญูุงู": "ุงูุฅูุฑุงุฏุงุช ุชูุณุฌูู ุนูุฏ ุชุญูููุง ูุง ุนูุฏ ูุจุถูุง",
        "ูุทุงุจูุฉ": "ุชูุทุงุจู ุงููุตุฑููุงุช ูุน ุงูุฅูุฑุงุฏุงุช ุงููุฑุชุจุทุฉ ุจูุง",
        "ูุญุฏุฉ_ูุญุงุณุจูุฉ": "ุงูููุงู ุงููุงูู ูููุตู ุนู ูุงููู",
        "ุงุณุชูุฑุงุฑูุฉ": "ุงูููุดุฃุฉ ูุณุชูุฑุฉ ูุง ูู ูุซุจุช ุงูุนูุณ",
        "ุญูุทุฉ_ุญุฐุฑ": "ุนุฏู ุงููุจุงูุบุฉ ูู ุชูุฏูุฑ ุงูุฃุตูู ูุงูุฅูุฑุงุฏุงุช"
    },
    
    "tax_palestine": {
        "name": "ููุณุทูู - Palestine",
        "vat_rate": 16,
        "vat_name": "ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ",
        "vat_law": "ูุงููู ุฑูู 6 ูุณูุฉ 2005 ุงููุนุฏู",
        "income_tax_personal": [
            {"ูู": 0, "ุฅูู": 75000, "ูุณุจุฉ": 5},
            {"ูู": 75001, "ุฅูู": 150000, "ูุณุจุฉ": 10},
            {"ูู": 150001, "ุฅูู": 300000, "ูุณุจุฉ": 15},
            {"ูู": 300001, "ุฅูู": None, "ูุณุจุฉ": 20}
        ],
        "income_tax_corporate": 15,
        "notes": [
            "ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ 16% ุนูู ูุนุธู ุงูุณูุน ูุงูุฎุฏูุงุช",
            "ุจุนุถ ุงูุณูุน ุงูุฃุณุงุณูุฉ ูุนูุงุฉ (ุฎุจุฒุ ุญููุจุ ุฃุฏููุฉ ุฃุณุงุณูุฉ)",
            "ุถุฑูุจุฉ ุงูุฏุฎู ุนูู ุงูุดุฑูุงุช 15%",
            "ุฅุนูุงุก ูููุดุงุฑูุน ุงูุตุบูุฑุฉ ุงูุชู ุฏุฎููุง ุฃูู ูู 50,000 โช"
        ]
    },
    
    "tax_israel": {
        "name": "ุฅุณุฑุงุฆูู - Israel",
        "vat_rate": 17,
        "vat_name": "ืืข\"ื - VAT",
        "income_tax_personal_max": 47,
        "income_tax_corporate": 23,
        "capital_gains_tax": 25,
        "notes": [
            "ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ 17%",
            "ุถุฑูุจุฉ ุงูุดุฑูุงุช 23%",
            "ุถุฑูุจุฉ ุงูุฏุฎู ุงูุดุฎุตู ุชุตุงุนุฏูุฉ ุญุชู 47%",
            "ุฅุนูุงุกุงุช ููุชุตุฏูุฑ (Zero-rated exports)"
        ]
    },
    
    "customs_codes": {
        "8703": {
            "description": "ุณูุงุฑุงุช ุฑูุงุจ ูุนุฑุจุงุช ุฃุฎุฑู",
            "tax_rate_palestine": "varies",
            "tax_rate_israel": 83,
            "notes": "ุงูุฑุณูู ุชุนุชูุฏ ุนูู ุณุนุฉ ุงููุญุฑู ูููุน ุงููููุฏ"
        },
        "8704": {
            "description": "ุดุงุญูุงุช ููู ุงูุจุถุงุฆุน",
            "tax_rate_palestine": "varies",
            "tax_rate_israel": 12,
            "notes": "ุงููุฑูุจุงุช ุงูุชุฌุงุฑูุฉ ุฑุณูููุง ุฃูู"
        },
        "8708": {
            "description": "ูุทุน ุบูุงุฑ ููุณูุงุฑุงุช",
            "tax_rate_palestine": 0,
            "tax_rate_israel": 0,
            "notes": "ูุทุน ุงูุบูุงุฑ ุนุงุฏุฉ ูุนูุงุฉ ุฃู ุจูุณุจ ููุฎูุถุฉ"
        },
        "8507": {
            "description": "ุจุทุงุฑูุงุช ููุฑุจุงุฆูุฉ",
            "tax_rate_palestine": 5,
            "tax_rate_israel": 12,
            "notes": "ุงูุจุทุงุฑูุงุช ุฎุงุถุนุฉ ูุฑุณูู ุจูุฆูุฉ ุฅุถุงููุฉ"
        }
    },
    
    "excise_taxes": {
        "ูููุฏ_ุจูุฒูู": {
            "palestine": "ุญุณุจ ุงูุณุนุฑ ุงูุนุงููู + ุถุฑูุจุฉ ูุญููุฉ",
            "israel": "63% excise + 17% VAT",
            "notes": "ุชุฎุถุน ููุชููุจุงุช ุงูุดูุฑูุฉ"
        },
        "ุณุฌุงุฆุฑ": {
            "palestine": "95%",
            "israel": "500% ุชูุฑูุจุงู",
            "notes": "ูู ุฃุนูู ุงููุณุจ ุนุงูููุงู"
        },
        "ูุดุฑูุจุงุช_ุบุงุฒูุฉ": {
            "palestine": "50%",
            "israel": "varies",
            "notes": "ุญุณุจ ูุณุจุฉ ุงูุณูุฑ"
        },
        "ูุญูู": {
            "palestine": "ููููุน / ุบูุฑ ูุทุจู",
            "israel": "100%+",
            "notes": "ุฎุงุถุน ูุฑูุงุจุฉ ุตุงุฑูุฉ"
        }
    },
    
    "financial_formulas": {
        "gross_profit": "ุงูุฑุจุญ ุงูุฅุฌูุงูู = ุงูุฅูุฑุงุฏุงุช - ุชูููุฉ ุงูุจุถุงุนุฉ ุงููุจุงุนุฉ",
        "net_profit": "ุตุงูู ุงูุฑุจุญ = ุงูุฑุจุญ ุงูุฅุฌูุงูู - ุงููุตุฑููุงุช ุงูุชุดุบูููุฉ - ุงูุถุฑุงุฆุจ",
        "vat_calculation": "VAT = ุงููุจูุบ ุงูุฃุณุงุณู ร (ูุณุจุฉ ุงูุถุฑูุจุฉ / 100)",
        "gross_up": "ุงููุจูุบ ุงูุฅุฌูุงูู = ุงููุจูุบ ุงูุตุงูู / (1 - ูุณุจุฉ ุงูุถุฑูุจุฉ)",
        "roi": "ุงูุนุงุฆุฏ ุนูู ุงูุงุณุชุซูุงุฑ = (ุงูุฑุจุญ / ุฑุฃุณ ุงููุงู) ร 100"
    },
    
    "accounting_terms": {
        "ุฏุงุฆู": "Creditor - ูู ูู ุญู ุนูู ุงูููุดุฃุฉ",
        "ูุฏูู": "Debtor - ูู ุนููู ุฏูู ููููุดุฃุฉ",
        "ุฃุตูู": "Assets - ููุชููุงุช ุงูููุดุฃุฉ",
        "ุฎุตูู": "Liabilities - ุงูุชุฒุงูุงุช ุงูููุดุฃุฉ",
        "ุญููู_ููููุฉ": "Equity - ุตุงูู ูููุฉ ุงูููุดุฃุฉ",
        "ุฅูุฑุงุฏุงุช": "Revenue - ุงูุฏุฎู ูู ุงููุดุงุท",
        "ูุตุฑููุงุช": "Expenses - ุงูุชูุงููู ุงูุชุดุบูููุฉ",
        "ูููุฏ_ููููุฉ": "Journal Entries - ุชุณุฌูู ุงูุนูููุงุช ุงููุญุงุณุจูุฉ",
        "ููุฒุงู_ูุฑุงุฌุนุฉ": "Trial Balance - ููุชุญูู ูู ุงูุชูุงุฒู"
    },
    
    "currency_exchange": {
        "ILS": {"name": "ุดููู ุฅุณุฑุงุฆููู", "symbol": "โช", "base": True},
        "USD": {"name": "ุฏููุงุฑ ุฃูุฑููู", "symbol": "$", "typical_rate_vs_ILS": 3.7},
        "JOD": {"name": "ุฏููุงุฑ ุฃุฑุฏูู", "symbol": "ุฏ.ุฃ", "typical_rate_vs_ILS": 5.2},
        "EUR": {"name": "ููุฑู", "symbol": "โฌ", "typical_rate_vs_ILS": 4.0},
        "notes": [
            "ุงูุฃุณุนุงุฑ ุชุชููุจ ููููุงู - ุงุณุชุฎุฏู ุขุฎุฑ ุณุนุฑ ูุณุฌู ูู ุงููุธุงู",
            "ุงูุนููุฉ ุงูุฃุณุงุณูุฉ ูู ุงููุธุงู: ILS (ุดููู)",
            "ุงูุชุญููู ูุชู ุนุจุฑ ุฌุฏูู ExchangeTransaction"
        ]
    }
}


def get_finance_knowledge():
    """ุงูุญุตูู ุนูู ุงููุนุฑูุฉ ุงููุงููุฉ ุงููุงููุฉ"""
    return FINANCE_KNOWLEDGE


# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ๐ ADVANCED TAX KNOWLEDGE - ุงููุนุฑูุฉ ุงูุถุฑูุจูุฉ ุงููุชูุฏูุฉ
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

TAX_KNOWLEDGE_PALESTINE = {
    "country": "ููุณุทูู - Palestine",
    "system": "ูุธุงู ุถุฑูุจู ุญุฏูุซ ูุชุจุน ุงููุนุงููุฑ ุงูุฏูููุฉ",
    
    "vat": {
        "name": "ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ - VAT",
        "rate": 16,
        "law": "ูุงููู ุฑูู 6 ูุณูุฉ 2005 ุงููุนุฏู ุจุงููุฑุงุฑ ุฑูู 11 ูุณูุฉ 2010",
        "authority": "ุฏุงุฆุฑุฉ ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ - ูุฒุงุฑุฉ ุงููุงููุฉ",
        
        "registration": {
            "mandatory": "ุฅูุฒุงูู ููููุดุขุช ุงูุชู ูุชุฌุงูุฒ ุฏุฎููุง ุงูุณููู 75,000 โช",
            "voluntary": "ุงุฎุชูุงุฑู ููููุดุขุช ุจูู 50,000-75,000 โช",
            "exempt": "ูุนูู ุฅุฐุง ูุงู ุงูุฏุฎู ุฃูู ูู 50,000 โช"
        },
        
        "calculation": {
            "inclusive": "ุฅุฐุง ูุงู ุงูุณุนุฑ ุดุงูู ุงูุถุฑูุจุฉ: ุงูุตุงูู = ุงูุฅุฌูุงูู รท 1.16",
            "exclusive": "ุฅุฐุง ูุงู ุงูุณุนุฑ ุจุฏูู ุถุฑูุจุฉ: ุงูุถุฑูุจุฉ = ุงูุตุงูู ร 0.16",
            "formula": "ุงูุถุฑูุจุฉ = ุงููุจูุบ ุงูุฎุงุถุน ููุถุฑูุจุฉ ร 16%",
            "examples": [
                {"price_exclusive": 1000, "vat": 160, "total": 1160},
                {"price_inclusive": 1160, "net": 1000, "vat": 160}
            ]
        },
        
        "exempt_items": [
            "ุงูุฎุจุฒ ุงูุทุงุฒุฌ",
            "ุงูุญููุจ ุงูุทุงุฒุฌ",
            "ุงูุจูุถ",
            "ุงูุฃุฏููุฉ ุงูุฃุณุงุณูุฉ ุงููุณุฌูุฉ",
            "ุงููุชุจ ูุงููุทุจูุนุงุช ุงูุชุนููููุฉ",
            "ุงูุฎุฏูุงุช ุงููุงููุฉ (ุจููู ูุชุฃููู)",
            "ุฎุฏูุงุช ุงูุชุนููู",
            "ุงูุฎุฏูุงุช ุงูุตุญูุฉ ุงูุฃุณุงุณูุฉ"
        ],
        
        "zero_rated": [
            "ุงูุตุงุฏุฑุงุช (Exports) - 0%",
            "ุจูุน ุณูุน ููููุงุทู ุงูุญุฑุฉ - 0%"
        ],
        
        "filing": {
            "frequency": "ุดูุฑู ููููุดุขุช ุงููุจูุฑุฉุ ุฑุจุน ุณููู ููุตุบูุฑุฉ",
            "deadline": "ุงูููู ุงูู15 ูู ุงูุดูุฑ ุงูุชุงูู",
            "form": "ูููุฐุฌ VAT-101",
            "penalty": "ุบุฑุงูุฉ 2% ุดูุฑูุงู ุนูู ุงูุชุฃุฎูุฑ (ุญุฏ ุฃูุตู 50%)"
        },
        
        "input_output": {
            "output_vat": "ุถุฑูุจุฉ ุงููุฎุฑุฌุงุช = ุงูุถุฑูุจุฉ ุงููุญุตูุฉ ูู ุงููุจูุนุงุช",
            "input_vat": "ุถุฑูุจุฉ ุงููุฏุฎูุงุช = ุงูุถุฑูุจุฉ ุงููุฏููุนุฉ ุนูู ุงููุดุชุฑูุงุช",
            "net_vat": "ุงูุถุฑูุจุฉ ุงููุณุชุญูุฉ = ุถุฑูุจุฉ ุงููุฎุฑุฌุงุช - ุถุฑูุจุฉ ุงููุฏุฎูุงุช",
            "refund": "ุฅุฐุง ูุงูุช ุงููุฏุฎูุงุช > ุงููุฎุฑุฌุงุช โ ูุญู ุงุณุชุฑุฏุงุฏ ุงููุฑู"
        }
    },
    
    "income_tax": {
        "name": "ุถุฑูุจุฉ ุงูุฏุฎู",
        "law": "ูุงููู ุถุฑูุจุฉ ุงูุฏุฎู ุฑูู 8 ูุณูุฉ 2011",
        "authority": "ุฏุงุฆุฑุฉ ุถุฑูุจุฉ ุงูุฏุฎู",
        
        "personal": {
            "name": "ุถุฑูุจุฉ ุงูุฏุฎู ุนูู ุงูุฃุดุฎุงุต ุงูุทุจูุนููู",
            "brackets": [
                {"from": 0, "to": 75000, "rate": 5, "description": "ุดุฑูุญุฉ ุฃููู"},
                {"from": 75001, "to": 150000, "rate": 10, "description": "ุดุฑูุญุฉ ุซุงููุฉ"},
                {"from": 150001, "to": 300000, "rate": 15, "description": "ุดุฑูุญุฉ ุซุงูุซุฉ"},
                {"from": 300001, "to": None, "rate": 20, "description": "ุดุฑูุญุฉ ุฑุงุจุนุฉ"}
            ],
            "exemptions": {
                "personal": 36000,
                "married": 48000,
                "per_child": 6000,
                "max_children": 5
            },
            "example": {
                "salary": 120000,
                "personal_exemption": 36000,
                "married_exemption": 12000,
                "children_exemption": 12000,
                "taxable": 60000,
                "tax": 5250,
                "calculation": "0-75000: 5% ร 60000 = 3000 โช"
            }
        },
        
        "corporate": {
            "name": "ุถุฑูุจุฉ ุงูุฏุฎู ุนูู ุงูุดุฑูุงุช",
            "rate": 15,
            "description": "ูุณุจุฉ ููุญุฏุฉ 15% ุนูู ุตุงูู ุงูุฑุจุญ",
            "calculation": "ุงูุถุฑูุจุฉ = ุตุงูู ุงูุฑุจุญ ร 15%",
            "deductions": [
                "ุงููุตุฑููุงุช ุงูุชุดุบูููุฉ ุงููุนููุฉ",
                "ุงูุฅููุงู ุญุณุจ ุงูุฌุฏุงูู ุงููุนุชูุฏุฉ",
                "ุงูุฏููู ุงููุนุฏููุฉ ุงููุซุจุชุฉ",
                "ุงูุชุจุฑุนุงุช (ุญุฏ ุฃูุตู 10% ูู ุงูุฏุฎู)"
            ],
            "non_deductible": [
                "ุงููุตุฑููุงุช ุงูุดุฎุตูุฉ ูููุงูู",
                "ุงูุบุฑุงูุงุช ูุงูุนููุจุงุช",
                "ุงูุถุฑุงุฆุจ ุงููุฏููุนุฉ",
                "ุงููุจุงูุบ ุงููุฏููุนุฉ ูููุณุงูููู ูุชูุฒูุนุงุช"
            ],
            "example": {
                "revenue": 500000,
                "expenses": 350000,
                "net_profit": 150000,
                "tax_15": 22500
            }
        },
        
        "withholding_tax": {
            "name": "ุถุฑูุจุฉ ุงูุงุณุชูุทุงุน",
            "description": "ุชููุชุทุน ูู ุงููุตุฏุฑ ุนูุฏ ุงูุฏูุน",
            "rates": {
                "professionals": 5,
                "contractors": 2,
                "rent": 5,
                "dividends": 10,
                "interest": 10
            },
            "filing": "ุดูุฑู - ูููุฐุฌ 9"
        }
    },
    
    "customs_duties": {
        "name": "ุงูุฑุณูู ุงูุฌูุฑููุฉ",
        "authority": "ุงูุฌูุงุฑู ุงูููุณุทูููุฉ",
        "description": "ุชููุฑุถ ุนูู ุงูุจุถุงุฆุน ุงููุณุชูุฑุฏุฉ",
        
        "rates": {
            "raw_materials": "0-5%",
            "semi_finished": "5-12%",
            "finished_goods": "12-20%",
            "luxury_items": "30-50%"
        },
        
        "calculation": {
            "base": "ุงููููุฉ CIF (ุงูุชูููุฉ + ุงูุชุฃููู + ุงูุดุญู)",
            "formula": "ุงูุฑุณูู = ุงููููุฉ CIF ร ูุณุจุฉ ุงูุฑุณูู",
            "total_cost": "ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ = CIF + ุงูุฑุณูู + VAT"
        },
        
        "automotive": {
            "passenger_cars": {
                "description": "ุณูุงุฑุงุช ุงูุฑูุงุจ (HS 8703)",
                "factors": ["ุณุนุฉ ุงููุญุฑู", "ููุน ุงููููุฏ", "ุณูุฉ ุงูุตูุน"],
                "rates": "ูุชุบูุฑุฉ - ุชุฎุถุน ูุงุชูุงููุงุช ุจุงุฑูุณ ุงูุงูุชุตุงุฏูุฉ"
            },
            "commercial_vehicles": {
                "description": "ุงููุฑูุจุงุช ุงูุชุฌุงุฑูุฉ (HS 8704)",
                "rate": "ุฑุณูู ูุฎูุถุฉ ููุงุฑูุฉ ุจุณูุงุฑุงุช ุงูุฑูุงุจ"
            }
        }
    },
    
    "property_tax": {
        "name": "ุถุฑูุจุฉ ุงูุฃููุงู",
        "description": "ุชููุฑุถ ุนูู ุงูุนูุงุฑุงุช",
        "rate": "10-20% ูู ุงููููุฉ ุงูุฅูุฌุงุฑูุฉ ุงูุณูููุฉ"
    },
    
    "penalties": {
        "late_filing": "ุบุฑุงูุฉ 500-2000 โช ุญุณุจ ููุน ุงูุถุฑูุจุฉ",
        "late_payment": "ุบุฑุงูุฉ 2% ุดูุฑูุงู (ุญุฏ ุฃูุตู 50%)",
        "tax_evasion": "ุบุฑุงูุฉ ุชุตู ุฅูู 3 ุฃุถุนุงู ุงูุถุฑูุจุฉ + ุงูุณุฌู"
    }
}

TAX_KNOWLEDGE_ISRAEL = {
    "country": "ุฅุณุฑุงุฆูู - Israel - ืืฉืจืื",
    "system": "ูุธุงู ุถุฑูุจู ูุชุทูุฑ ููุนูุฏ",
    
    "vat": {
        "name": "ืืข\"ื - VAT - ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ",
        "rate": 17,
        "law": "ืืืง ืืก ืขืจื ืืืกืฃ",
        "authority": "ืจืฉืืช ืืืกืื - ุณูุทุฉ ุงูุถุฑุงุฆุจ",
        
        "registration": {
            "threshold": "ุฅูุฒุงูู ุนูุฏ ุชุฌุงูุฒ 101,584 โช ุณูููุงู (2024)",
            "licensed": "ูุนูู ูุฃุตุญุงุจ ุงูุฑุฎุต (ืขืืกืง ืคืืืจ)"
        },
        
        "calculation": {
            "inclusive": "ุงูุณุนุฑ ุดุงูู: ุงูุตุงูู = ุงูุฅุฌูุงูู รท 1.17",
            "exclusive": "ุงูุณุนุฑ ุจุฏูู: ุงูุถุฑูุจุฉ = ุงูุตุงูู ร 0.17",
            "examples": [
                {"price_exclusive": 1000, "vat": 170, "total": 1170},
                {"price_inclusive": 1170, "net": 1000, "vat": 170}
            ]
        },
        
        "exempt_items": [
            "ุงูููุงูู ูุงูุฎุถุฑูุงุช ุงูุทุงุฒุฌุฉ",
            "ูุนุธู ุงูููุงุฏ ุงูุบุฐุงุฆูุฉ ุงูุฃุณุงุณูุฉ",
            "ุงูุฎุฏูุงุช ุงููุงููุฉ",
            "ุงูุฎุฏูุงุช ุงูุตุญูุฉ",
            "ุงูุชุนููู"
        ],
        
        "zero_rated": [
            "ุงูุตุงุฏุฑุงุช - 0%",
            "ุงูุณูุงุญุฉ ุงููุงูุฏุฉ - 0%",
            "ุงูุฎุฏูุงุช ููุณูุงุญ - 0%"
        ],
        
        "filing": {
            "frequency_small": "ูู ุดูุฑูู (ืขืืกืง ืงืื)",
            "frequency_large": "ุดูุฑู",
            "deadline": "ุงูููู ุงูู15 ูู ุงูุดูุฑ ุงูุชุงูู",
            "online": "ุฅูุฒุงูู ุนุจุฑ ืืืืืืจืื"
        }
    },
    
    "income_tax": {
        "name": "ืืก ืืืืกื - ุถุฑูุจุฉ ุงูุฏุฎู",
        "authority": "ืจืฉืืช ืืืกืื",
        
        "personal": {
            "name": "ุถุฑูุจุฉ ุงูุฏุฎู ุงูุดุฎุตูุฉ",
            "progressive": "ุชุตุงุนุฏูุฉ ูู 10% ุญุชู 50%",
            "brackets_2024": [
                {"from": 0, "to": 83040, "rate": 10},
                {"from": 83041, "to": 119280, "rate": 14},
                {"from": 119281, "to": 191560, "rate": 20},
                {"from": 191561, "to": 266480, "rate": 31},
                {"from": 266481, "to": 560280, "rate": 35},
                {"from": 560281, "to": 721560, "rate": 47},
                {"from": 721561, "to": None, "rate": 50}
            ],
            "credits": {
                "basic": 2820,
                "married": 2820,
                "per_child": 1680
            }
        },
        
        "corporate": {
            "name": "ุถุฑูุจุฉ ุงูุดุฑูุงุช - ืืก ืืืจืืช",
            "rate": 23,
            "description": "ูุณุจุฉ ููุญุฏุฉ 23% ุนูู ุงูุฃุฑุจุงุญ",
            "small_business": "ุดุฑูุงุช ุตุบูุฑุฉ ูุฏ ุชุฎุถุน ูู 17% ุนูู ุงูู 500,000 โช ุงูุฃููู"
        },
        
        "capital_gains": {
            "name": "ุถุฑูุจุฉ ุฃุฑุจุงุญ ุฑุฃุณ ุงููุงู - ืืก ืจืืื ืืื",
            "rate": 25,
            "description": "ุนูู ุงูุฃุฑุจุงุญ ูู ุจูุน ุงูุฃุตูู"
        },
        
        "national_insurance": {
            "name": "ุงูุชุฃููู ุงููุทูู - ืืืืื ืืืืื",
            "employee": "7% ุชูุฑูุจุงู",
            "employer": "7.6% ุชูุฑูุจุงู",
            "self_employed": "17.83% ุชูุฑูุจุงู"
        }
    },
    
    "purchase_tax": {
        "name": "ืืก ืงืืืื - ุถุฑูุจุฉ ุงูุดุฑุงุก",
        "vehicles": {
            "rate": "83-100% ุญุณุจ ููุน ุงูุณูุงุฑุฉ",
            "electric": "ุฎุตู ูุจูุฑ ููุณูุงุฑุงุช ุงูููุฑุจุงุฆูุฉ",
            "hybrid": "ุฎุตู ูุชูุณุท ููุณูุงุฑุงุช ุงููุฌููุฉ"
        },
        "real_estate": {
            "rate": "0-10% ุญุณุจ ูููุฉ ุงูุนูุงุฑ ูุนุฏุฏ ุงูุดูู"
        }
    },
    
    "land_appreciation_tax": {
        "name": "ืืก ืฉืื - ุถุฑูุจุฉ ุชุญุณูู ุงูุฃุฑุงุถู",
        "rate": "25% ุนูู ุฃุฑุจุงุญ ุจูุน ุงูุนูุงุฑุงุช",
        "exemptions": "ูุนูู ุนูู ุงูุดูุฉ ุงูุฃููู ูู ุญุฏูุฏ ูุนููุฉ"
    }
}


def get_tax_knowledge_detailed():
    """ุงูุญุตูู ุนูู ุงููุนุฑูุฉ ุงูุถุฑูุจูุฉ ุงูุดุงููุฉ"""
    return {
        "palestine": TAX_KNOWLEDGE_PALESTINE,
        "israel": TAX_KNOWLEDGE_ISRAEL,
        
        "comparison": {
            "vat": {
                "palestine": "16%",
                "israel": "17%",
                "difference": "ูุฑู ุจุณูุท 1%"
            },
            "corporate_tax": {
                "palestine": "15%",
                "israel": "23%",
                "difference": "ููุณุทูู ุฃูู ุจู 8%"
            },
            "personal_tax": {
                "palestine": "ุชุตุงุนุฏูุฉ 5-20%",
                "israel": "ุชุตุงุนุฏูุฉ 10-50%",
                "difference": "ุฅุณุฑุงุฆูู ุฃุนูู ุจูุซูุฑ"
            }
        },
        
        "tax_planning_tips": [
            "ุงูุงุณุชูุงุฏุฉ ูู ุงูุฅุนูุงุกุงุช ุงููุงููููุฉ",
            "ุชูุซูู ุฌููุน ุงููุตุฑููุงุช ุงููุงุจูุฉ ููุฎุตู",
            "ุงูุงูุชุฒุงู ุจุงูููุงุนูุฏ ุงูููุงุฆูุฉ ูุชุฌูุจ ุงูุบุฑุงูุงุช",
            "ุงูุงุญุชูุงุธ ุจุณุฌูุงุช ูุญุงุณุจูุฉ ููุธูุฉ",
            "ุงุณุชุดุงุฑุฉ ูุญุงุณุจ ูุงูููู ุนูุฏ ุงูุญุงุฌุฉ"
        ]
    }


def calculate_palestine_income_tax(income):
    """ุญุณุงุจ ุถุฑูุจุฉ ุงูุฏุฎู ุงูููุณุทูููุฉ"""
    if income <= 0:
        return 0
    
    brackets = FINANCE_KNOWLEDGE['tax_palestine']['income_tax_personal']
    total_tax = 0
    remaining = income
    
    for i, bracket in enumerate(brackets):
        from_amount = bracket['ูู']
        to_amount = bracket['ุฅูู']
        rate = bracket['ูุณุจุฉ']
        
        if to_amount is None:
            taxable = remaining
        else:
            taxable = min(remaining, to_amount - from_amount)
        
        if taxable > 0:
            total_tax += taxable * (rate / 100)
            remaining -= taxable
        
        if remaining <= 0:
            break
    
    return total_tax


def calculate_vat(amount, country='palestine'):
    """
    ุญุณุงุจ ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ
    
    ููุงุญุธุฉ: ูุณุชุฎุฏู ุงูุซูุงุจุช ูู SystemSettings ููุฏููุฉ ุงูุงูุชุฑุงุถูุฉ (ููุณุทูู)
    """
    # ุงุณุชุฎุฏุงู ุงูุซูุงุจุช ูู SystemSettings ููุฏููุฉ ุงูุงูุชุฑุงุถูุฉ
    if country.lower() == 'palestine':
        try:
            from utils import get_vat_rate, is_vat_enabled
            if not is_vat_enabled():
                rate = 0
            else:
                rate = get_vat_rate()
        except:
            # Fallback ูููููุฉ ุงููุญููุธุฉ
            rate = FINANCE_KNOWLEDGE['tax_palestine']['vat_rate']
    elif country.lower() == 'israel':
        rate = FINANCE_KNOWLEDGE['tax_israel']['vat_rate']
    else:
        rate = 0
    
    vat_amount = amount * (rate / 100)
    total_with_vat = amount + vat_amount
    
    return {
        'base_amount': amount,
        'vat_rate': rate,
        'vat_amount': vat_amount,
        'total_with_vat': total_with_vat
    }


def get_customs_info(hs_code):
    """ูุนูููุงุช ุงูุฌูุงุฑู ุญุณุจ ุงูููุฏ"""
    return FINANCE_KNOWLEDGE['customs_codes'].get(hs_code, None)


def get_all_system_modules():
    """ูุนูููุงุช ูู ูุญุฏุงุช ุงููุธุงู"""
    return {
        'auth': {'name': 'ุงููุตุงุฏูุฉ', 'route': '/auth'},
        'customers': {'name': 'ุงูุนููุงุก', 'route': '/customers'},
        'service': {'name': 'ุงูุตูุงูุฉ', 'route': '/service'},
        'sales': {'name': 'ุงููุจูุนุงุช', 'route': '/sales'},
        'shop': {'name': 'ุงููุชุฌุฑ', 'route': '/shop'},
        'warehouses': {'name': 'ุงููุณุชูุฏุนุงุช', 'route': '/warehouses'},
        'expenses': {'name': 'ุงููููุงุช', 'route': '/expenses'},
        'payments': {'name': 'ุงููุฏููุนุงุช', 'route': '/payments'},
        'vendors': {'name': 'ุงูููุฑุฏูู', 'route': '/vendors'},
        'ledger': {'name': 'ุฏูุชุฑ ุงูุฃุณุชุงุฐ', 'route': '/ledger'},
        'security': {'name': 'ุงูุฃูุงู', 'route': '/security'},
    }

