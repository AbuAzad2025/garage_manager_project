"""
AI Parts Database - Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø·Ø¹ Ø§Ù„ØºÙŠØ§Ø± Ø§Ù„Ø´Ø§Ù…Ù„Ø©
Ù…Ø¹Ø±ÙØ© ØªÙØµÙŠÙ„ÙŠØ© Ø¨ÙƒÙ„ Ù‚Ø·Ø¹Ø©: Ø§Ù„Ø§Ø³Ù…ØŒ Ø§Ù„Ø±Ù‚Ù…ØŒ Ø§Ù„ÙØ¦Ø©ØŒ Ø§Ù„ØªÙˆØ§ÙÙ‚ØŒ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
"""

# ====================================================================
# Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø·Ø¹ Ø§Ù„ØºÙŠØ§Ø± - Ø´Ø§Ù…Ù„Ø© ÙˆÙ…ÙØµÙ„Ø©
# ====================================================================

PARTS_KNOWLEDGE = {
    # ========== Ù‚Ø·Ø¹ Ø§Ù„Ù…Ø­Ø±Ùƒ ==========
    'engine_parts': {
        'name': 'Ù‚Ø·Ø¹ Ø§Ù„Ù…Ø­Ø±Ùƒ',
        'parts': {
            'oil_filter': {
                'name_ar': 'ÙÙ„ØªØ± Ø²ÙŠØª',
                'name_en': 'Oil Filter',
                'common_numbers': ['OC90', 'W920/21', 'HU925/4X'],
                'fits': [
                    'Ù…Ø¹Ø¸Ù… Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø®ÙÙŠÙØ©',
                    'Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø«Ù‚ÙŠÙ„Ø© Ø§Ù„ØµØºÙŠØ±Ø©'
                ],
                'function': 'ØªØµÙÙŠØ© Ø§Ù„Ø²ÙŠØª Ù…Ù† Ø§Ù„Ø´ÙˆØ§Ø¦Ø¨ Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…Ø­Ø±Ùƒ',
                'replacement_interval': 'ÙƒÙ„ 5,000-10,000 ÙƒÙ… Ø£Ùˆ 6 Ø£Ø´Ù‡Ø±',
                'symptoms_when_bad': [
                    'ØµÙˆØª Ø·Ù‚Ø·Ù‚Ø© Ù…Ù† Ø§Ù„Ù…Ø­Ø±Ùƒ',
                    'Ø¶ØºØ· Ø²ÙŠØª Ù…Ù†Ø®ÙØ¶',
                    'Ø²ÙŠØª Ø£Ø³ÙˆØ¯ Ø¬Ø¯Ø§Ù‹'
                ],
                'price_range': '15-50â‚ª Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹'
            },
            'spark_plugs': {
                'name_ar': 'Ø¨ÙˆØ§Ø¬ÙŠ / Ø´Ù…Ø¹Ø§Øª Ø§Ù„Ø§Ø­ØªØ±Ø§Ù‚',
                'name_en': 'Spark Plugs',
                'common_numbers': ['NGK BKR6E', 'DENSO K20TT', 'BOSCH FR7DC+'],
                'fits': [
                    'Ù…Ø­Ø±ÙƒØ§Øª Ø¨Ù†Ø²ÙŠÙ† ÙÙ‚Ø· (Ù„ÙŠØ³ Ø¯ÙŠØ²Ù„)',
                    'Ø³ÙŠØ§Ø±Ø§Øª Ø®ÙÙŠÙØ© ÙˆÙ…ØªÙˆØ³Ø·Ø©'
                ],
                'function': 'Ø¥Ø´Ø¹Ø§Ù„ Ø®Ù„ÙŠØ· Ø§Ù„Ø¨Ù†Ø²ÙŠÙ† ÙˆØ§Ù„Ù‡ÙˆØ§Ø¡',
                'replacement_interval': 'ÙƒÙ„ 30,000-100,000 ÙƒÙ… Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹',
                'symptoms_when_bad': [
                    'ØªÙ‚Ø·ÙŠØ¹ ÙÙŠ Ø§Ù„Ù…Ø­Ø±Ùƒ',
                    'ØµØ¹ÙˆØ¨Ø© Ø§Ù„ØªØ´ØºÙŠÙ„',
                    'Ø²ÙŠØ§Ø¯Ø© Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„ÙˆÙ‚ÙˆØ¯',
                    'Ø¶Ø¹Ù ÙÙŠ Ø§Ù„Ø¹Ø²Ù…'
                ],
                'types': {
                    'copper': 'Ù†Ø­Ø§Ø³ - Ø¹Ø§Ø¯ÙŠØŒ Ø±Ø®ÙŠØµØŒ ÙƒÙ„ 30,000 ÙƒÙ…',
                    'platinum': 'Ø¨Ù„Ø§ØªÙŠÙ†ÙŠÙˆÙ… - Ø£ÙØ¶Ù„ØŒ ØºØ§Ù„ÙØŒ ÙƒÙ„ 60,000 ÙƒÙ…',
                    'iridium': 'Ø¥ÙŠØ±ÙŠØ¯ÙŠÙˆÙ… - Ù…Ù…ØªØ§Ø²ØŒ Ø£ØºÙ„Ù‰ØŒ ÙƒÙ„ 100,000 ÙƒÙ…'
                },
                'price_range': '10-40â‚ª Ù„Ù„Ø¨ÙˆØ¬ÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹'
            },
            'timing_belt': {
                'name_ar': 'Ø³ÙŠØ± Ø§Ù„ØªÙˆÙ‚ÙŠØª / Ø³ÙŠØ± Ø§Ù„ÙƒØ§ØªÙŠÙ†Ø©',
                'name_en': 'Timing Belt',
                'common_numbers': ['CT1149', 'TB295', 'GATES 5591XS'],
                'fits': [
                    'Ù…Ø­Ø±ÙƒØ§Øª Ø¨Ù†Ø²ÙŠÙ† ÙˆØ¯ÙŠØ²Ù„',
                    'Ø³ÙŠØ§Ø±Ø§Øª Ù…Ø­Ø¯Ø¯Ø© (Ù„ÙŠØ³ ÙƒÙ„ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª)'
                ],
                'function': 'Ù…Ø²Ø§Ù…Ù†Ø© Ø­Ø±ÙƒØ© Ø¹Ù…ÙˆØ¯ Ø§Ù„ÙƒØ±Ù†Ùƒ ÙˆØ¹Ù…ÙˆØ¯ Ø§Ù„ÙƒØ§Ù…Ø§Øª',
                'replacement_interval': 'ÙƒÙ„ 60,000-100,000 ÙƒÙ… Ø£Ùˆ 5 Ø³Ù†ÙˆØ§Øª (Ø£ÙŠÙ‡Ù…Ø§ Ø£Ù‚Ø±Ø¨)',
                'symptoms_when_bad': [
                    'ØµÙˆØª ØµØ±ÙŠØ± Ù…Ù† Ø§Ù„Ù…Ø­Ø±Ùƒ',
                    'Ø§Ù‡ØªØ²Ø§Ø² ØºÙŠØ± Ø·Ø¨ÙŠØ¹ÙŠ',
                    'Ø¹Ø¯Ù… Ø§Ù†ØªØ¸Ø§Ù… Ø§Ù„Ø¯ÙˆØ±Ø§Ù†'
                ],
                'critical_note': 'âš ï¸ Ø¥Ø°Ø§ Ø§Ù†Ù‚Ø·Ø¹ Ø§Ù„Ø³ÙŠØ± Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¯ÙˆØ±Ø§Ù†ØŒ Ù‚Ø¯ ÙŠØªÙ„Ù Ø§Ù„Ù…Ø­Ø±Ùƒ ÙƒØ§Ù…Ù„Ø§Ù‹! (Ù…Ø­Ø±ÙƒØ§Øª Interference)',
                'replacement_cost': '300-800â‚ª Ø´Ø§Ù…Ù„ Ø§Ù„Ø¹Ù…Ø§Ù„Ø©',
                'replace_with_it': [
                    'Ù…Ø¶Ø®Ø© Ø§Ù„Ù…Ø§Ø¡ (Water Pump)',
                    'Ø±ÙˆÙ„Ù…Ø§Ù† Ø§Ù„Ø³ÙŠØ±',
                    'Ø³ÙŠØ± Ø§Ù„Ù…ÙƒÙŠÙ (Ø¥Ù† ÙˆØ¬Ø¯)'
                ]
            },
            'engine_oil': {
                'name_ar': 'Ø²ÙŠØª Ø§Ù„Ù…Ø­Ø±Ùƒ',
                'name_en': 'Engine Oil',
                'types': {
                    'mineral': 'Ù…Ø¹Ø¯Ù†ÙŠ - Ø¹Ø§Ø¯ÙŠØŒ Ø±Ø®ÙŠØµØŒ ÙƒÙ„ 3,000-5,000 ÙƒÙ…',
                    'semi_synthetic': 'Ù†ØµÙ ØªØ®Ù„ÙŠÙ‚ÙŠ - Ø¬ÙŠØ¯ØŒ Ù…ØªÙˆØ³Ø·ØŒ ÙƒÙ„ 5,000-7,500 ÙƒÙ…',
                    'full_synthetic': 'ØªØ®Ù„ÙŠÙ‚ÙŠ ÙƒØ§Ù…Ù„ - Ù…Ù…ØªØ§Ø²ØŒ ØºØ§Ù„ÙØŒ ÙƒÙ„ 7,500-15,000 ÙƒÙ…'
                },
                'viscosity': {
                    '5W-30': 'Ù…Ù†Ø§Ø® Ø¨Ø§Ø±Ø¯ ÙˆÙ…Ø¹ØªØ¯Ù„ - Ø§Ù„Ø£ÙƒØ«Ø± Ø´ÙŠÙˆØ¹Ø§Ù‹',
                    '10W-40': 'Ù…Ù†Ø§Ø® Ø­Ø§Ø± - Ø³ÙŠØ§Ø±Ø§Øª Ù‚Ø¯ÙŠÙ…Ø©',
                    '0W-20': 'Ø³ÙŠØ§Ø±Ø§Øª Ø­Ø¯ÙŠØ«Ø© - Ù…ÙˆÙØ± Ù„Ù„ÙˆÙ‚ÙˆØ¯',
                    '15W-40': 'Ø¯ÙŠØ²Ù„ ÙˆÙ…Ø¹Ø¯Ø§Øª Ø«Ù‚ÙŠÙ„Ø©'
                },
                'how_to_choose': [
                    '1. Ø±Ø§Ø¬Ø¹ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø³ÙŠØ§Ø±Ø© (Owner Manual)',
                    '2. Ø§Ù†Ø¸Ø± Ù„Ù…Ù†Ø§Ø® Ø§Ù„Ù…Ù†Ø·Ù‚Ø©',
                    '3. Ø¹Ù…Ø± Ø§Ù„Ù…Ø­Ø±Ùƒ (Ù‚Ø¯ÙŠÙ… ÙŠØ­ØªØ§Ø¬ Ù„Ø²ÙˆØ¬Ø© Ø£Ø¹Ù„Ù‰)',
                    '4. Ù†ÙˆØ¹ Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© (Ø´Ø§Ù‚Ø© â†’ ØªØ®Ù„ÙŠÙ‚ÙŠ)'
                ]
            }
        }
    },
    
    # ========== Ù‚Ø·Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„ÙØ±Ø§Ù…Ù„ ==========
    'brake_parts': {
        'name': 'Ù‚Ø·Ø¹ Ø§Ù„ÙØ±Ø§Ù…Ù„',
        'parts': {
            'brake_pads': {
                'name_ar': 'ÙØ­Ù…Ø§Øª Ø§Ù„ÙØ±Ø§Ù…Ù„ / ØªÙŠÙ„ Ø§Ù„ÙØ±Ø§Ù…Ù„',
                'name_en': 'Brake Pads',
                'common_numbers': ['DB1234', 'BP2156', 'TRW GDB1234'],
                'fits': 'Ø­Ø³Ø¨ Ù…ÙˆØ¯ÙŠÙ„ Ø§Ù„Ø³ÙŠØ§Ø±Ø© - ÙŠØ®ØªÙ„Ù Ù„ÙƒÙ„ Ø³ÙŠØ§Ø±Ø©',
                'function': 'Ø§Ù„Ø§Ø­ØªÙƒØ§Ùƒ Ù„Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø³ÙŠØ§Ø±Ø©',
                'replacement_interval': 'ÙƒÙ„ 30,000-70,000 ÙƒÙ… Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©',
                'symptoms_when_bad': [
                    'ØµÙˆØª ØµØ±ÙŠØ± Ø¹Ù†Ø¯ Ø§Ù„ÙØ±Ù…Ù„Ø©',
                    'Ø§Ù‡ØªØ²Ø§Ø² ÙÙŠ Ø§Ù„ÙØ±Ø§Ù…Ù„',
                    'Ù…Ø³Ø§ÙØ© ØªÙˆÙ‚Ù Ø£Ø·ÙˆÙ„',
                    'Ù„Ù…Ø¨Ø© Ø§Ù„ÙØ±Ø§Ù…Ù„ ØªÙˆÙ„Ø¹'
                ],
                'types': {
                    'organic': 'Ø¹Ø¶ÙˆÙŠ - Ù‡Ø§Ø¯Ø¦ØŒ ÙŠØªØ¢ÙƒÙ„ Ø£Ø³Ø±Ø¹',
                    'semi_metallic': 'Ù†ØµÙ Ù…Ø¹Ø¯Ù†ÙŠ - Ø§Ù„Ø£ÙƒØ«Ø± Ø´ÙŠÙˆØ¹Ø§Ù‹',
                    'ceramic': 'Ø³ÙŠØ±Ø§Ù…ÙŠÙƒ - Ù…Ù…ØªØ§Ø²ØŒ ØºØ§Ù„ÙØŒ Ù‚Ù„ÙŠÙ„ Ø§Ù„ØºØ¨Ø§Ø±'
                },
                'installation_notes': [
                    'Ø§ÙØ­Øµ Ø§Ù„Ø¯ÙŠØ³ÙƒØ§Øª (Ù‚Ø¯ ØªØ­ØªØ§Ø¬ ØªØ¬Ù„ÙŠØ® Ø£Ùˆ ØªØ¨Ø¯ÙŠÙ„)',
                    'ØºÙŠÙ‘Ø± Ø²ÙŠØª Ø§Ù„ÙØ±Ø§Ù…Ù„ ÙƒÙ„ Ø³Ù†ØªÙŠÙ†',
                    'Ù†Ø¸Ù‘Ù Ø§Ù„ÙƒÙ„ÙŠØ¨Ø±Ø§Øª',
                    'test drive Ø¨Ø¹Ø¯ Ø§Ù„ØªØ±ÙƒÙŠØ¨'
                ]
            },
            'brake_discs': {
                'name_ar': 'Ø¯ÙŠØ³ÙƒØ§Øª Ø§Ù„ÙØ±Ø§Ù…Ù„ / Ø£Ù‚Ø±Ø§Øµ Ø§Ù„ÙØ±Ø§Ù…Ù„',
                'name_en': 'Brake Discs/Rotors',
                'function': 'Ø§Ù„Ø³Ø·Ø­ Ø§Ù„Ø°ÙŠ ØªØ­ØªÙƒ Ø¨Ù‡ Ø§Ù„ÙØ­Ù…Ø§Øª',
                'replacement_interval': 'ÙƒÙ„ 60,000-120,000 ÙƒÙ… Ø£Ùˆ Ø¹Ù†Ø¯ Ø§Ù„ØªØ¢ÙƒÙ„',
                'symptoms_when_bad': [
                    'Ø§Ù‡ØªØ²Ø§Ø² Ø´Ø¯ÙŠØ¯ ÙÙŠ Ø§Ù„ÙØ±Ø§Ù…Ù„',
                    'Ø£Ø®Ø§Ø¯ÙŠØ¯ ÙˆØ§Ø¶Ø­Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø·Ø­',
                    'Ø³ÙÙ…Ùƒ Ø£Ù‚Ù„ Ù…Ù† Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰',
                    'ØµÙˆØª Ø§Ø­ØªÙƒØ§Ùƒ Ù…Ø¹Ø¯Ù†ÙŠ'
                ],
                'inspection': [
                    'Ù‚ÙØ³ Ø§Ù„Ø³ÙÙ…Ùƒ (Thickness) - ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† ÙÙˆÙ‚ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰',
                    'Ø§ÙØ­Øµ Ø§Ù„Ø³Ø·Ø­ (Ù…Ø³ØªÙˆÙ Ø£Ù… Ù…ØªÙ…ÙˆØ¬)',
                    'ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø´Ù‚ÙˆÙ‚ (Cracks)'
                ],
                'cost': '150-400â‚ª Ù„Ù„Ù‚Ø±Øµ'
            }
        }
    },
    
    # ========== Ù‚Ø·Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ ==========
    'suspension_parts': {
        'name': 'Ù‚Ø·Ø¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚',
        'parts': {
            'shock_absorbers': {
                'name_ar': 'Ù…Ø³Ø§Ø¹Ø¯ÙŠÙ† / Ù…Ù…ØªØµØ§Øª Ø§Ù„ØµØ¯Ù…Ø§Øª',
                'name_en': 'Shock Absorbers',
                'function': 'Ø§Ù…ØªØµØ§Øµ Ø§Ù„ØµØ¯Ù…Ø§Øª ÙˆØªÙˆÙÙŠØ± Ø±Ø§Ø­Ø© Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©',
                'types': {
                    'hydraulic': 'Ù‡ÙŠØ¯Ø±ÙˆÙ„ÙŠÙƒ - Ø¹Ø§Ø¯ÙŠ',
                    'gas': 'ØºØ§Ø² - Ø£ÙØ¶Ù„ Ø£Ø¯Ø§Ø¡',
                    'adjustable': 'Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ - Ø³ÙŠØ§Ø±Ø§Øª Ø±ÙŠØ§Ø¶ÙŠØ©'
                },
                'symptoms_when_bad': [
                    'Ø§Ø±ØªØ¯Ø§Ø¯ Ø²Ø§Ø¦Ø¯ Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø·Ø¨',
                    'ØªØ¢ÙƒÙ„ ØºÙŠØ± Ù…Ù†ØªØ¸Ù… Ù„Ù„Ø¥Ø·Ø§Ø±Ø§Øª',
                    'Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ø³ÙŠØ§Ø±Ø©',
                    'ØªØ³Ø±Ø¨ Ø²ÙŠØª Ù…Ù† Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯'
                ],
                'replacement_interval': 'ÙƒÙ„ 80,000-150,000 ÙƒÙ…'
            }
        }
    },
    
    # ========== Ø§Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø«Ù‚ÙŠÙ„Ø© - Ù‚Ø·Ø¹ Ø®Ø§ØµØ© ==========
    'heavy_equipment_parts': {
        'name': 'Ù‚Ø·Ø¹ Ø§Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø«Ù‚ÙŠÙ„Ø©',
        'parts': {
            'hydraulic_pump': {
                'name_ar': 'Ù…Ø¶Ø®Ø© Ù‡ÙŠØ¯Ø±ÙˆÙ„ÙŠÙƒ',
                'name_en': 'Hydraulic Pump',
                'fits': [
                    'Ø­ÙØ§Ø±Ø§Øª (Excavators)',
                    'Ù„ÙˆØ§Ø¯Ø± (Loaders)',
                    'Ø±Ø§ÙØ¹Ø§Øª Ø´ÙˆÙƒÙŠØ© (Forklifts)',
                    'Ø¬Ø±ÙŠØ¯Ø±Ø§Øª (Graders)'
                ],
                'function': 'Ø¶Ø® Ø§Ù„Ø²ÙŠØª Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆÙ„ÙŠÙƒÙŠ Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ø°Ø±Ø¹ ÙˆØ§Ù„Ø£Ù†Ø¸Ù…Ø©',
                'symptoms_when_bad': [
                    'Ø¨Ø·Ø¡ ÙÙŠ Ø­Ø±ÙƒØ© Ø§Ù„Ø£Ø°Ø±Ø¹',
                    'ØµÙˆØª ØµÙÙŠØ± Ù…Ù† Ø§Ù„Ù…Ø¶Ø®Ø©',
                    'Ø§Ø±ØªÙØ§Ø¹ Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ø²ÙŠØª Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆÙ„ÙŠÙƒÙŠ',
                    'ØªØ³Ø±Ø¨ Ø²ÙŠØª',
                    'Ø¹Ø¯Ù… Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ù„Ù„Ø£ÙˆØ§Ù…Ø±'
                ],
                'diagnostics': [
                    'ÙØ­Øµ Ø¶ØºØ· Ø§Ù„Ù†Ø¸Ø§Ù… (Pressure Test)',
                    'ÙØ­Øµ Ø§Ù„ØªØ³Ø±ÙŠØ¨Ø§Øª',
                    'ÙØ­Øµ ÙÙ„ØªØ± Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆÙ„ÙŠÙƒ',
                    'ÙØ­Øµ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø²ÙŠØª'
                ],
                'common_brands': ['BOSCH', 'REXROTH', 'PARKER', 'SAUER-DANFOSS'],
                'price_range': '3,000-15,000â‚ª Ø­Ø³Ø¨ Ø§Ù„Ø­Ø¬Ù…',
                'critical': 'âš ï¸ Ù‚Ø·Ø¹Ø© Ø­Ø±Ø¬Ø© - ØªÙˆÙ‚Ù ÙƒØ§Ù…Ù„ Ù„Ù„Ù…Ø¹Ø¯Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªÙ„Ù!'
            },
            'track_link': {
                'name_ar': 'Ø­Ù„Ù‚Ø© Ø¬Ù†Ø²ÙŠØ± / Ø³Ù„Ø³Ù„Ø©',
                'name_en': 'Track Link',
                'fits': [
                    'Ø­ÙØ§Ø±Ø§Øª Ø¨Ø¬Ù†Ø²ÙŠØ±',
                    'Ø¨Ù„Ø¯ÙˆØ²Ø±Ø§Øª',
                    'Ø¬Ø±ÙŠØ¯Ø±Ø§Øª'
                ],
                'function': 'Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ø¹Ø¯Ø©',
                'wear_signs': [
                    'ØªØ¢ÙƒÙ„ ÙÙŠ Ø§Ù„Ø£Ø³Ù†Ø§Ù†',
                    'Ø´Ù‚ÙˆÙ‚ ÙÙŠ Ø§Ù„Ù…Ø¹Ø¯Ù†',
                    'Ø§Ø³ØªØ·Ø§Ù„Ø© Ø§Ù„Ø³Ù„Ø³Ù„Ø©'
                ],
                'replacement_interval': 'Ø­Ø³Ø¨ Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„ ÙˆØ·Ø¨ÙŠØ¹Ø© Ø§Ù„Ø£Ø±Ø¶',
                'price_range': '150-500â‚ª Ù„Ù„Ø­Ù„Ù‚Ø©'
            }
        }
    }
}


# ====================================================================
# Ø§Ù„ØªÙˆØ§ÙÙ‚ - Ø£ÙŠ Ù‚Ø·Ø¹Ø© Ù„Ø£ÙŠ Ù…Ø¹Ø¯Ø©
# ====================================================================

COMPATIBILITY_DATABASE = {
    'oil_filter_OC90': {
        'fits_vehicles': [
            'Toyota Corolla 2000-2010',
            'Honda Civic 2001-2005',
            'Nissan Sunny 2005-2012',
            'Ù…Ø¹Ø¸Ù… Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ø§Ù„ÙŠØ§Ø¨Ø§Ù†ÙŠØ© 1.6-2.0L'
        ],
        'alternative_numbers': ['W920/21', 'MANN W920/21', 'FRAM PH3593A']
    },
    
    'brake_pad_DB1234': {
        'fits_vehicles': [
            'Mercedes Sprinter 2006+',
            'VW Crafter 2006+',
            'Ø¨Ø¹Ø¶ Ù…Ø¹Ø¯Ø§Øª CAT Ø§Ù„ØµØºÙŠØ±Ø©'
        ],
        'front_or_rear': 'Ø£Ù…Ø§Ù…ÙŠ',
        'note': 'ØªØ£ÙƒØ¯ Ù…Ù† Ø±Ù‚Ù… Ø§Ù„Ø´Ø§Ø³ÙŠÙ‡ (VIN) Ù‚Ø¨Ù„ Ø§Ù„Ø·Ù„Ø¨'
    }
}


# ====================================================================
# Ø¯ÙˆØ§Ù„ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø°ÙƒÙŠ Ø¹Ù† Ø§Ù„Ù‚Ø·Ø¹
# ====================================================================

def search_part_by_name(part_name: str) -> dict:
    """Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù‚Ø·Ø¹Ø© Ø¨Ø§Ù„Ø§Ø³Ù…"""
    part_name_lower = part_name.lower()
    results = []
    
    for category_key, category_data in PARTS_KNOWLEDGE.items():
        for part_key, part_info in category_data.get('parts', {}).items():
            if (part_name_lower in part_info.get('name_ar', '').lower() or
                part_name_lower in part_info.get('name_en', '').lower()):
                results.append({
                    'category': category_data['name'],
                    'part_key': part_key,
                    'info': part_info
                })
    
    return {'query': part_name, 'results': results}


def search_part_by_number(part_number: str) -> dict:
    """Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù‚Ø·Ø¹Ø© Ø¨Ø§Ù„Ø±Ù‚Ù…"""
    part_number_upper = part_number.upper()
    
    for category_key, category_data in PARTS_KNOWLEDGE.items():
        for part_key, part_info in category_data.get('parts', {}).items():
            numbers = part_info.get('common_numbers', [])
            if any(part_number_upper in num.upper() for num in numbers):
                return {
                    'found': True,
                    'category': category_data['name'],
                    'part_key': part_key,
                    'info': part_info
                }
    
    # Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„ØªÙˆØ§ÙÙ‚
    if part_number_upper in [key.split('_')[-1] for key in COMPATIBILITY_DATABASE.keys()]:
        for compat_key, compat_data in COMPATIBILITY_DATABASE.items():
            if part_number_upper in compat_key.upper():
                return {
                    'found': True,
                    'compatibility': compat_data
                }
    
    return {'found': False, 'query': part_number}


def get_parts_for_vehicle(vehicle_model: str) -> list:
    """Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø·Ø¹ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ø³ÙŠØ§Ø±Ø©/Ù…Ø¹Ø¯Ø©"""
    vehicle_lower = vehicle_model.lower()
    matching_parts = []
    
    for compat_key, compat_data in COMPATIBILITY_DATABASE.items():
        fits = compat_data.get('fits_vehicles', [])
        for fit in fits:
            if vehicle_lower in fit.lower():
                matching_parts.append({
                    'part_number': compat_key,
                    'fits': compat_data
                })
    
    return matching_parts


def explain_part_function(part_name: str) -> str:
    """Ø´Ø±Ø­ ÙˆØ¸ÙŠÙØ© Ù‚Ø·Ø¹Ø© Ø¨Ø§Ù„ØªÙØµÙŠÙ„"""
    search_result = search_part_by_name(part_name)
    
    if search_result['results']:
        part_info = search_result['results'][0]['info']
        
        explanation = f"""ğŸ”§ **{part_info['name_ar']} ({part_info['name_en']})**

ğŸ“ **Ø§Ù„ÙˆØ¸ÙŠÙØ©:**
{part_info.get('function', 'N/A')}

ğŸ“¦ **ÙŠØ±ÙƒØ¨ Ø¹Ù„Ù‰:**
"""
        for fit in part_info.get('fits', []):
            explanation += f"  â€¢ {fit}\n"
        
        if part_info.get('symptoms_when_bad'):
            explanation += "\nâš ï¸ **Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„ØªÙ„Ù:**\n"
            for symptom in part_info['symptoms_when_bad']:
                explanation += f"  â€¢ {symptom}\n"
        
        if part_info.get('replacement_interval'):
            explanation += f"\nğŸ”„ **ÙØªØ±Ø© Ø§Ù„ØªØ¨Ø¯ÙŠÙ„:** {part_info['replacement_interval']}\n"
        
        if part_info.get('price_range'):
            explanation += f"\nğŸ’° **Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù…ØªÙˆÙ‚Ø¹:** {part_info['price_range']}\n"
        
        return explanation
    
    return f"âŒ Ù„Ù… Ø£Ø¬Ø¯ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† \"{part_name}\" - Ø­Ø§ÙˆÙ„ Ø§Ø³Ù… Ø¢Ø®Ø± Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ù‚Ø·Ø¹Ø©"

