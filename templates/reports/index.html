{% extends 'reports/_base.html' %}

{% block title %}مركز التقارير{% endblock %}
{% block page_title %}مركز التقارير{% endblock %}

{% block reports_breadcrumb_extra %}
<li class="breadcrumb-item active">مركز التقارير</li>
{% endblock %}

{% block report_content %}

{% set summary_cards = [
  {
    'title': 'إجمالي التقارير',
    'value': reports_summary.total if reports_summary else 0,
    'subtitle': 'تقارير متاحة',
    'gradient': 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
    'icon': 'fas fa-chart-bar'
  },
  {
    'title': 'تقارير مالية',
    'value': reports_summary.financial if reports_summary else 0,
    'subtitle': 'مبيعات، دفعات، أرباح، فواتير',
    'gradient': 'linear-gradient(135deg, #11998e 0%, #38ef7d 100%)',
    'icon': 'fas fa-dollar-sign'
  },
  {
    'title': 'تقارير المخزون',
    'value': reports_summary.inventory if reports_summary else 0,
    'subtitle': 'جرد، حد أدنى، قيمة',
    'gradient': 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',
    'icon': 'fas fa-boxes'
  },
  {
    'title': 'تقارير تحليلية',
    'value': reports_summary.analytics if reports_summary else 0,
    'subtitle': 'ذمم، شركاء، مؤشرات',
    'gradient': 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',
    'icon': 'fas fa-chart-line'
  }
] %}

<div class="row g-3 mb-4">
  {% for card in summary_cards %}
  <div class="col-lg-3 col-md-6">
    <div class="card border-0 shadow-lg text-white" style="background: {{ card.gradient }};">
      <div class="card-body">
        <div class="d-flex justify-content-between">
          <div>
            <h6 class="mb-1" style="color: rgba(255,255,255,0.9); font-weight: 600;">{{ card.title }}</h6>
            <h3 class="mb-0 fw-bold" style="color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">
              {{ card.value }}
            </h3>
            <small style="color: rgba(255,255,255,0.8);">{{ card.subtitle }}</small>
          </div>
          <div class="align-self-center">
            <i class="{{ card.icon }} fa-2x" style="opacity: 0.4; color: white;"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

<div class="row g-3">

  <div class="col-md-3 col-sm-6 d-flex align-items-stretch">
    <a class="text-decoration-none w-100" href="{{ url_for('reports_bp.dynamic_report') }}">
      <div class="report-card dynamic h-100 w-100">
        <i class="fas fa-sliders-h"></i>
        <h5>تقرير ديناميكي</h5>
        <p>ابنِ تقريرك حسب الحقول والفلاتر</p>
      </div>
    </a>
  </div>

  <div class="col-md-3 col-sm-6 d-flex align-items-stretch">
    <a class="text-decoration-none w-100" href="{{ url_for('reports_bp.customers_report') }}">
      <div class="report-card customers h-100 w-100">
        <i class="fas fa-user-friends"></i>
        <h5>تقارير العملاء</h5>
        <p>إجمالي الفواتير / المدفوع / الرصيد</p>
      </div>
    </a>
  </div>

  <div class="col-md-3 col-sm-6 d-flex align-items-stretch">
    <a class="text-decoration-none w-100" href="{{ url_for('reports_bp.suppliers_report') }}">
      <div class="report-card suppliers h-100 w-100">
        <i class="fas fa-truck-loading"></i>
        <h5>الموردون</h5>
        <p>الرصيد / المدفوع / الصافي</p>
      </div>
    </a>
  </div>

  <div class="col-md-3 col-sm-6 d-flex align-items-stretch">
    <a class="text-decoration-none w-100" href="{{ url_for('reports_bp.partners_report') }}">
      <div class="report-card partners h-100 w-100">
        <i class="fas fa-handshake"></i>
        <h5>الشركاء</h5>
        <p>الحصة / الرصيد / المدفوع</p>
      </div>
    </a>
  </div>

  <div class="col-md-3 col-sm-6 d-flex align-items-stretch">
    <a class="text-decoration-none w-100" href="{{ url_for('reports_bp.sales') }}">
      <div class="report-card sales h-100 w-100">
        <i class="fas fa-cash-register"></i>
        <h5>المبيعات</h5>
        <p>ملخص وفواصل زمنية</p>
      </div>
    </a>
  </div>

  <div class="col-md-3 col-sm-6 d-flex align-items-stretch">
    <a class="text-decoration-none w-100" href="{{ url_for('reports_bp.payments_summary') }}">
      <div class="report-card payments h-100 w-100">
        <i class="fas fa-wallet"></i>
        <h5>ملخص المدفوعات</h5>
        <p>حسب طريقة الدفع</p>
      </div>
    </a>
  </div>

  <div class="col-md-3 col-sm-6 d-flex align-items-stretch">
    <a class="text-decoration-none w-100" href="{{ url_for('reports_bp.top_products') }}">
      <div class="report-card products h-100 w-100">
        <i class="fas fa-crown"></i>
        <h5>أفضل المنتجات</h5>
        <p>كمية وإيراد</p>
      </div>
    </a>
  </div>

  <div class="col-md-3 col-sm-6 d-flex align-items-stretch">
    <a class="text-decoration-none w-100" href="{{ url_for('reports_bp.expenses_report') }}">
      <div class="report-card expenses h-100 w-100">
        <i class="fas fa-wallet"></i>
        <h5>المصاريف</h5>
        <p>حسب النوع / الموظف</p>
      </div>
    </a>
  </div>

  <div class="col-md-3 col-sm-6 d-flex align-items-stretch">
    <a class="text-decoration-none w-100" href="{{ url_for('reports_bp.inventory') }}">
      <div class="report-card inventory h-100 w-100">
        <i class="fas fa-boxes"></i>
        <h5>المخزون</h5>
        <p>منتج × مستودع</p>
      </div>
    </a>
  </div>

  <div class="col-md-3 col-sm-6 d-flex align-items-stretch">
    <a class="text-decoration-none w-100" href="{{ url_for('reports_bp.below_min_stock_report') }}">
      <div class="report-card below-min h-100 w-100">
        <i class="fas fa-exclamation-triangle"></i>
        <h5>تحت الحد الأدنى</h5>
        <p>الأصناف منخفضة المخزون</p>
      </div>
    </a>
  </div>

  <div class="col-md-3 col-sm-6 d-flex align-items-stretch">
    <a class="text-decoration-none w-100" href="{{ url_for('reports_bp.shipments') }}">
      <div class="report-card shipments h-100 w-100">
        <i class="fas fa-shipping-fast"></i>
        <h5>الشحنات</h5>
        <p>قيمة وإجماليات</p>
      </div>
    </a>
  </div>

  <div class="col-md-3 col-sm-6 d-flex align-items-stretch">
    <a class="text-decoration-none w-100" href="{{ url_for('reports_bp.online') }}">
      <div class="report-card online h-100 w-100">
        <i class="fas fa-globe"></i>
        <h5>الأونلاين</h5>
        <p>طلبات / مدفوعات / سلال</p>
      </div>
    </a>
  </div>

  <div class="col-md-3 col-sm-6 d-flex align-items-stretch">
    <a class="text-decoration-none w-100" href="{{ url_for('reports_bp.ar_aging') }}">
      <div class="report-card ar h-100 w-100">
        <i class="fas fa-user-clock"></i>
        <h5>أعمار الذمم (عملاء)</h5>
        <p>تفصيل حسب الفترات</p>
      </div>
    </a>
  </div>

  <div class="col-md-3 col-sm-6 d-flex align-items-stretch">
    <a class="text-decoration-none w-100" href="{{ url_for('reports_bp.ap_aging') }}">
      <div class="report-card ap h-100 w-100">
        <i class="fas fa-truck-loading"></i>
        <h5>أعمار الذمم (موردون)</h5>
        <p>تفصيل حسب الفترات</p>
      </div>
    </a>
  </div>

  <div class="col-md-3 col-sm-6 d-flex align-items-stretch">
    <a class="text-decoration-none w-100" href="{{ url_for('reports_bp.service_reports') }}">
      <div class="report-card service h-100 w-100">
        <i class="fas fa-tools"></i>
        <h5>تقارير الصيانة</h5>
        <p>عدد / إيراد / قطع / أجور</p>
      </div>
    </a>
  </div>

  <div class="col-md-3 col-sm-6 d-flex align-items-stretch">
    <a class="text-decoration-none w-100" href="{{ url_for('reports_bp.invoices_report') }}">
      <div class="report-card invoices h-100 w-100">
        <i class="fas fa-file-invoice-dollar"></i>
        <h5>الفواتير</h5>
        <p>شاملة / مدفوع / متأخرة</p>
      </div>
    </a>
  </div>

  <div class="col-md-3 col-sm-6 d-flex align-items-stretch">
    <a class="text-decoration-none w-100" href="{{ url_for('reports_bp.preorders_report') }}">
      <div class="report-card preorders h-100 w-100">
        <i class="fas fa-clipboard-list"></i>
        <h5>الطلبيات المسبقة</h5>
        <p>طلبيات / مدفوع / متبقي</p>
      </div>
    </a>
  </div>

  <div class="col-md-3 col-sm-6 d-flex align-items-stretch">
    <a class="text-decoration-none w-100" href="{{ url_for('reports_bp.profit_loss_report') }}">
      <div class="report-card profit h-100 w-100">
        <i class="fas fa-chart-line"></i>
        <h5>الأرباح والخسائر</h5>
        <p>P&L / هامش الربح</p>
      </div>
    </a>
  </div>

  <div class="col-md-3 col-sm-6 d-flex align-items-stretch">
    <a class="text-decoration-none w-100" href="{{ url_for('reports_bp.cash_flow_report') }}">
      <div class="report-card cashflow h-100 w-100">
        <i class="fas fa-money-bill-wave"></i>
        <h5>التدفقات النقدية</h5>
        <p>Cash Flow / وارد / صادر</p>
      </div>
    </a>
  </div>

</div>
{% endblock %}
