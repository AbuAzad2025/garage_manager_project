{% extends 'security/base_security.html' %}

{% block security_title %}Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Dashboard{% endblock %}
{% block security_icon %}<i class="fas fa-tachometer-alt"></i>{% endblock %}
{% block security_description %}Ù…Ø±ÙƒØ² Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø´Ø§Ù…Ù„ Ù„Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ø³Ø±ÙŠØ© - {{ stats.total_modules }} ÙˆØ­Ø¯Ø© â€¢ {{ stats.total_apis }} API{% endblock %}

{% block security_breadcrumb %}
<li class="breadcrumb-item active">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</li>
{% endblock %}

{% block security_actions %}
<div class="d-flex gap-2 flex-wrap">
  <a href="{{ url_for('security.help_page') }}" class="btn btn-sm btn-light">
    <i class="fas fa-question-circle"></i> Ù…Ø³Ø§Ø¹Ø¯Ø©
  </a>
  <a href="{{ url_for('security.sitemap') }}" class="btn btn-sm btn-outline-light">
    <i class="fas fa-sitemap"></i> Ø®Ø±ÙŠØ·Ø©
  </a>
</div>
{% endblock %}

{% block security_content %}
  
  <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø³Ø±ÙŠØ¹ -->
  <div class="card border-0 shadow-sm mb-4">
    <div class="card-body">
      <div class="input-group input-group-lg">
        <span class="input-group-text bg-primary text-white">
          <i class="fas fa-search"></i>
        </span>
        <input type="text" id="quickSearch" class="form-control form-control-lg" 
               placeholder="ğŸ” Ø¨Ø­Ø« Ø³Ø±ÙŠØ¹ ÙÙŠ Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ø³Ø±ÙŠØ©... (Ctrl+K)"
               style="font-size: 1.1rem;">
        <button class="btn btn-outline-secondary" type="button" id="clearSearch" style="display: none;">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <small class="text-muted d-block mt-2">
        <i class="fas fa-lightbulb"></i> <strong>Ù†ØµÙŠØ­Ø©:</strong> Ø§ÙƒØªØ¨ Ø£ÙŠ ÙƒÙ„Ù…Ø© Ù„Ù„Ø¨Ø­Ø« Ø§Ù„ÙÙˆØ±ÙŠ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§ÙƒØ² ÙˆØ§Ù„Ø£Ø¯ÙˆØ§Øª ({{ stats.total_modules }} ÙˆØ­Ø¯Ø© â€¢ {{ stats.total_apis }} API)
      </small>
    </div>
  </div>
  
  <div class="alert alert-warning border-0 shadow-sm">
    <div class="d-flex align-items-center">
      <i class="fas fa-crown fa-2x text-warning mr-3"></i>
      <div>
        <strong>ğŸ” ÙˆØµÙˆÙ„ Ø­ØµØ±ÙŠ Ù„Ù„Ù…Ø§Ù„Ùƒ</strong>
        <br><small>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„Ù‡Ø§ ÙÙŠ Audit Trail â€¢ Super Admin <span class="badge bg-danger">Ù…Ù…Ù†ÙˆØ¹</span></small>
      </div>
    </div>
  </div>

  <!-- Ø³Ø¬Ù„ Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚ Ø§Ù„Ù…Ø±Ø¦ÙŠ -->
  <div class="row mb-4">
    <div class="col-12">
      <div class="card border-0 shadow-sm">
        <div class="card-header bg-gradient text-white" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
          <div class="d-flex justify-content-between align-items-center">
            <h5 class="mb-0"><i class="fas fa-history"></i> Ø¢Ø®Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</h5>
            <span class="badge bg-white text-primary">Ø¢Ø®Ø± 10 Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</span>
          </div>
        </div>
        <div class="card-body p-0">
          <div class="timeline" id="auditTimeline" style="max-height: 200px; overflow-y: auto;">
            {% if recent %}
              {% for audit in recent[:10] %}
              <div class="timeline-item" style="padding: 12px 20px; border-bottom: 1px solid #f0f0f0;">
                <div class="d-flex justify-content-between align-items-start">
                  <div class="d-flex align-items-start">
                    <i class="fas fa-circle text-{% if audit.success %}success{% else %}danger{% endif %} mt-1" style="font-size: 0.5rem; margin-left: 10px;"></i>
                    <div>
                      <strong>{{ audit.event_type or 'Ù†Ø´Ø§Ø·' }}</strong>
                      <br><small class="text-muted">
                        <i class="fas fa-user"></i> {{ audit.username or 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ' }}
                        {% if audit.ip_address %} | <i class="fas fa-network-wired"></i> {{ audit.ip_address }}{% endif %}
                      </small>
                    </div>
                  </div>
                  <small class="text-muted" title="{{ audit.created_at }}">
                    <i class="fas fa-clock"></i> {{ audit.created_at.strftime('%H:%M') if audit.created_at else 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ' }}
                  </small>
                </div>
              </div>
              {% endfor %}
            {% else %}
              <div class="text-center p-4 text-muted">
                <i class="fas fa-inbox"></i> Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø­Ø¯ÙŠØ«Ø©
              </div>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
  <div class="row g-3 mb-4">
    <div class="col-lg-3 col-md-6">
      <div class="small-box bg-info" data-total-users="{{ stats.total_users }}">
        <div class="inner">
          <h3>{{ stats.total_users }}</h3>
          <p>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</p>
          <!-- Mini Chart -->
          <div style="height: 40px; margin-top: 10px;">
            <canvas id="usersTrendChart"></canvas>
          </div>
        </div>
        <div class="icon"><i class="fas fa-users"></i></div>
      </div>
    </div>
    
    <div class="col-lg-3 col-md-6">
      <div class="small-box bg-success" data-active-users="{{ stats.active_users }}">
        <div class="inner">
          <h3>{{ stats.active_users }}</h3>
          <p>Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù†Ø´Ø·ÙŠÙ†</p>
          <!-- Mini Chart -->
          <div style="height: 40px; margin-top: 10px;">
            <canvas id="activitySparkline"></canvas>
          </div>
        </div>
        <div class="icon"><i class="fas fa-user-check"></i></div>
      </div>
    </div>
    
    <div class="col-lg-3 col-md-6">
      <div class="small-box bg-danger" data-blocked-users="{{ stats.blocked_users }}">
        <div class="inner">
          <h3>{{ stats.blocked_users }}</h3>
          <p>Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù…Ø­Ø¸ÙˆØ±ÙŠÙ†</p>
          <!-- Mini Chart -->
          <div style="height: 40px; margin-top: 10px;">
            <canvas id="systemHealthChart"></canvas>
          </div>
        </div>
        <div class="icon"><i class="fas fa-user-lock"></i></div>
      </div>
    </div>
    
    <div class="col-lg-3 col-md-6">
      <div class="small-box bg-warning">
        <div class="inner">
          <h3>{{ stats.failed_logins_24h }}</h3>
          <p>Ù…Ø­Ø§ÙˆÙ„Ø§Øª ÙØ§Ø´Ù„Ø© (24 Ø³Ø§Ø¹Ø©)</p>
          <!-- Mini Chart -->
          <div style="height: 40px; margin-top: 10px;">
            <canvas id="failedLoginsChart"></canvas>
          </div>
        </div>
        <div class="icon"><i class="fas fa-exclamation-triangle"></i></div>
      </div>
    </div>
  </div>

  <h4 class="mb-3"><i class="fas fa-crown text-warning"></i> Ø§Ù„Ù…Ø±Ø§ÙƒØ² Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© - 7 Ù…Ø±Ø§ÙƒØ²</h4>
  
  <div class="row g-4 mb-4">
    <div class="col-lg-4 col-md-6">
      <div class="card border-0 shadow-lg h-100 hover-lift" style="background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);">
        <div class="card-body text-white p-4">
          <div class="d-flex justify-content-between align-items-start mb-3">
            <div>
              <i class="fas fa-database fa-3x" style="text-shadow: 0 2px 4px rgba(0,0,0,0.3);"></i>
            </div>
            <span class="badge bg-warning text-dark">11 Ø£Ø¯Ø§Ø©</span>
          </div>
          <h5 class="fw-bold mb-2">Database Control</h5>
          <p class="small opacity-75 mb-3">ØªØµÙØ­ â€¢ ØªØ­Ø±ÙŠØ± â€¢ SQL â€¢ Python â€¢ ÙÙ‡Ø§Ø±Ø³ â€¢ ØµÙŠØ§Ù†Ø©</p>
          <a href="{{ url_for('security.database_manager') }}" class="btn btn-light btn-sm w-100">
            <i class="fas fa-terminal"></i> ÙØªØ­ Ø§Ù„Ù…Ø±ÙƒØ²
          </a>
        </div>
      </div>
    </div>

    <div class="col-lg-4 col-md-6">
      <div class="card border-0 shadow-lg h-100 hover-lift" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
        <div class="card-body text-white p-4">
          <div class="d-flex justify-content-between align-items-start mb-3">
            <div>
              <i class="fas fa-robot fa-3x" style="text-shadow: 0 2px 4px rgba(0,0,0,0.3);"></i>
            </div>
            <span class="badge bg-success">AI</span>
          </div>
          <h5 class="fw-bold mb-2">AI Control Center</h5>
          <p class="small opacity-75 mb-3">Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ â€¢ ØªØ­Ù„ÙŠÙ„ â€¢ ØªÙ†Ø¨Ø¤Ø§Øª â€¢ ØªØ¯Ø±ÙŠØ¨</p>
          <div class="d-grid gap-2">
            <a href="{{ url_for('ai.hub') }}" class="btn btn-light btn-sm">
              <i class="fas fa-comments"></i> AI Hub
            </a>
            <a href="{{ url_for('ai_admin.ai_settings') }}" class="btn btn-outline-light btn-sm">
              <i class="fas fa-cog"></i> Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
            </a>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-4 col-md-6">
      <div class="card border-0 shadow-lg h-100 hover-lift" style="background: linear-gradient(135deg, #FF512F 0%, #DD2476 100%);">
        <div class="card-body text-white p-4">
          <div class="d-flex justify-content-between align-items-start mb-3">
            <div>
              <i class="fas fa-shield-alt fa-3x" style="text-shadow: 0 2px 4px rgba(0,0,0,0.3);"></i>
            </div>
            <span class="badge bg-light text-danger">4 Ø£Ø¯ÙˆØ§Øª</span>
          </div>
          <h5 class="fw-bold mb-2">Security Center</h5>
          <p class="small opacity-75 mb-3">Ù…Ø±Ø§Ù‚Ø¨Ø© â€¢ Ø¬Ø¯Ø§Ø± Ø­Ù…Ø§ÙŠØ© â€¢ Audit â€¢ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª</p>
          <a href="{{ url_for('security.security_center') }}" class="btn btn-light btn-sm w-100">
            <i class="fas fa-lock"></i> ÙØªØ­ Ø§Ù„Ù…Ø±ÙƒØ²
          </a>
        </div>
      </div>
    </div>

    <div class="col-lg-4 col-md-6">
      <div class="card border-0 shadow-lg h-100 hover-lift" style="background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);">
        <div class="card-body text-white p-4">
          <div class="d-flex justify-content-between align-items-start mb-3">
            <div>
              <i class="fas fa-users-cog fa-3x" style="text-shadow: 0 2px 4px rgba(0,0,0,0.3);"></i>
            </div>
            <span class="badge bg-light text-success">{{ stats.total_users }}</span>
          </div>
          <h5 class="fw-bold mb-2">Users Center</h5>
          <p class="small opacity-75 mb-3">Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† â€¢ ØµÙ„Ø§Ø­ÙŠØ§Øª â€¢ Ø£Ø¯ÙˆØ§Ø± â€¢ ØªØ­ÙƒÙ… ÙƒØ§Ù…Ù„</p>
          <a href="{{ url_for('security.users_center') }}" class="btn btn-light btn-sm w-100">
            <i class="fas fa-user-shield"></i> ÙØªØ­ Ø§Ù„Ù…Ø±ÙƒØ²
          </a>
        </div>
      </div>
    </div>

    <div class="col-lg-4 col-md-6">
      <div class="card border-0 shadow-lg h-100 hover-lift" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
        <div class="card-body text-white p-4">
          <div class="d-flex justify-content-between align-items-start mb-3">
            <div>
              <i class="fas fa-cogs fa-3x" style="text-shadow: 0 2px 4px rgba(0,0,0,0.3);"></i>
            </div>
            <span class="badge bg-light text-dark">8 Ø£Ø¯ÙˆØ§Øª</span>
          </div>
          <h5 class="fw-bold mb-2">Settings Center</h5>
          <p class="small opacity-75 mb-3">Ø«ÙŠÙ…Ø§Øª â€¢ Ø´Ø¹Ø§Ø±Ø§Øª â€¢ ØªØ®ØµÙŠØµ â€¢ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</p>
          <a href="{{ url_for('security.settings_center') }}" class="btn btn-light btn-sm w-100">
            <i class="fas fa-sliders-h"></i> ÙØªØ­ Ø§Ù„Ù…Ø±ÙƒØ²
          </a>
        </div>
      </div>
    </div>

    <div class="col-lg-4 col-md-6">
      <div class="card border-0 shadow-lg h-100 hover-lift" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
        <div class="card-body text-white p-4">
          <div class="d-flex justify-content-between align-items-start mb-3">
            <div>
              <i class="fas fa-chart-bar fa-3x" style="text-shadow: 0 2px 4px rgba(0,0,0,0.3);"></i>
            </div>
            <span class="badge bg-light text-danger">Reports</span>
          </div>
          <h5 class="fw-bold mb-2">Reports Center</h5>
          <p class="small opacity-75 mb-3">ØªÙ‚Ø§Ø±ÙŠØ± â€¢ Ø£Ø¯Ø§Ø¡ â€¢ Grafana â€¢ ØªØ­Ù„ÙŠÙ„Ø§Øª</p>
          <a href="{{ url_for('security.reports_center') }}" class="btn btn-light btn-sm w-100">
            <i class="fas fa-file-alt"></i> ÙØªØ­ Ø§Ù„Ù…Ø±ÙƒØ²
          </a>
        </div>
      </div>
    </div>

    <div class="col-lg-4 col-md-6">
      <div class="card border-0 shadow-lg h-100 hover-lift" style="background: linear-gradient(135deg, #fc4a1a 0%, #f7b733 100%);">
        <div class="card-body text-white p-4">
          <div class="d-flex justify-content-between align-items-start mb-3">
            <div>
              <i class="fas fa-toolbox fa-3x" style="text-shadow: 0 2px 4px rgba(0,0,0,0.3);"></i>
            </div>
            <span class="badge bg-light text-warning">Tools</span>
          </div>
          <h5 class="fw-bold mb-2">Tools Center</h5>
          <p class="small opacity-75 mb-3">ØªÙƒØ§Ù…Ù„Ø§Øª â€¢ Ø¨Ø±ÙŠØ¯ â€¢ ÙÙˆØ§ØªÙŠØ± â€¢ ÙƒØ±ÙˆØª</p>
          <a href="{{ url_for('security.tools_center') }}" class="btn btn-light btn-sm w-100">
            <i class="fas fa-wrench"></i> ÙØªØ­ Ø§Ù„Ù…Ø±ÙƒØ²
          </a>
        </div>
      </div>
    </div>
  </div>

  <h4 class="mt-5 mb-3"><i class="fas fa-layer-group text-info"></i> Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© ÙˆØ§Ù„Ù…Ø§Ù„ÙŠØ©</h4>
  
  <div class="row g-4 mb-4">
    <div class="col-lg-6">
      <div class="card border-0 shadow-lg h-100 hover-lift" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
        <div class="card-body text-white p-4">
          <div class="d-flex align-items-center mb-3">
            <i class="fas fa-calculator fa-3x mr-3" style="text-shadow: 0 2px 4px rgba(0,0,0,0.3);"></i>
            <div>
              <h5 class="fw-bold mb-0">Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</h5>
              <small class="opacity-75">Advanced Accounting Control</small>
            </div>
          </div>
          <div class="row g-2 mb-3">
            <div class="col-4 text-center">
              <i class="fas fa-university fa-2x mb-1"></i>
              <br><small>Ø§Ù„Ø¨Ù†ÙˆÙƒ</small>
            </div>
            <div class="col-4 text-center">
              <i class="fas fa-project-diagram fa-2x mb-1"></i>
              <br><small>Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹</small>
            </div>
            <div class="col-4 text-center">
              <i class="fas fa-sitemap fa-2x mb-1"></i>
              <br><small>Ù…Ø±Ø§ÙƒØ² Ø§Ù„ØªÙƒÙ„ÙØ©</small>
            </div>
          </div>
          <a href="{{ url_for('advanced.accounting_control') }}" class="btn btn-light btn-sm w-100">
            <i class="fas fa-arrow-left"></i> ÙØªØ­ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
          </a>
        </div>
      </div>
    </div>
    
    <div class="col-lg-6">
      <div class="card border-0 shadow-lg h-100 hover-lift" style="background: linear-gradient(135deg, #396afc 0%, #2948ff 100%);">
        <div class="card-body text-white p-4">
          <div class="d-flex align-items-center mb-3">
            <i class="fas fa-book fa-3x mr-3" style="text-shadow: 0 2px 4px rgba(0,0,0,0.3);"></i>
            <div>
              <h5 class="fw-bold mb-0">Ledger Control</h5>
              <small class="opacity-75">Ø¯ÙØªØ± Ø§Ù„Ø£Ø³ØªØ§Ø° Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ</small>
            </div>
          </div>
          <div class="row g-2 mb-3">
            <div class="col-4 text-center">
              <i class="fas fa-coins fa-2x mb-1"></i>
              <br><small>Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</small>
            </div>
            <div class="col-4 text-center">
              <i class="fas fa-file-invoice fa-2x mb-1"></i>
              <br><small>Ø§Ù„Ù‚ÙŠÙˆØ¯</small>
            </div>
            <div class="col-4 text-center">
              <i class="fas fa-balance-scale fa-2x mb-1"></i>
              <br><small>Ø§Ù„Ø£Ø±ØµØ¯Ø©</small>
            </div>
          </div>
          <a href="{{ url_for('ledger_control.index') }}" class="btn btn-light btn-sm w-100">
            <i class="fas fa-arrow-left"></i> ÙØªØ­ Ø§Ù„ÙˆØ­Ø¯Ø©
          </a>
        </div>
      </div>
    </div>
    
    <div class="col-lg-6">
      <div class="card border-0 shadow-lg h-100 hover-lift" style="background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);">
        <div class="card-body text-white p-4">
          <div class="d-flex align-items-center mb-3">
            <i class="fas fa-sliders-h fa-3x mr-3" style="text-shadow: 0 2px 4px rgba(0,0,0,0.3);"></i>
            <div>
              <h5 class="fw-bold mb-0">Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ</h5>
              <small class="opacity-75">ØªØ­ÙƒÙ… Ø§Ø­ØªØ±Ø§ÙÙŠ Ø¨Ø§Ù„Ø­Ù‚ÙˆÙ„ ÙˆØ§Ù„Ø£Ù†ÙˆØ§Ø¹</small>
            </div>
          </div>
          <div class="row g-2 mb-3">
            <div class="col-4 text-center">
              <i class="fas fa-tags fa-2x mb-1"></i>
              <br><small>Ø§Ù„Ø£Ù†ÙˆØ§Ø¹</small>
            </div>
            <div class="col-4 text-center">
              <i class="fas fa-toggle-on fa-2x mb-1"></i>
              <br><small>Ø§Ù„Ø­Ù‚ÙˆÙ„</small>
            </div>
            <div class="col-4 text-center">
              <i class="fas fa-layer-group fa-2x mb-1"></i>
              <br><small>Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨</small>
            </div>
          </div>
          <a href="{{ url_for('security_expenses.control_panel') }}" class="btn btn-light btn-sm w-100">
            <i class="fas fa-arrow-left"></i> ÙØªØ­ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
          </a>
        </div>
      </div>
    </div>
  </div>

  <h4 class="mt-5 mb-3"><i class="fas fa-bell text-primary"></i> Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙˆØ§Ù„Ø¶Ø±Ø§Ø¦Ø¨</h4>
  
  <div class="row g-4 mb-4">
    <div class="col-lg-6">
      <div class="card border-0 shadow-lg h-100 hover-lift" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
        <div class="card-body text-white p-4">
          <i class="fas fa-bell fa-3x mb-3" style="text-shadow: 0 2px 4px rgba(0,0,0,0.3);"></i>
          <h5 class="fw-bold">Notifications Center</h5>
          <p class="small opacity-75 mb-3">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª â€¢ Email â€¢ SMS</p>
          <a href="{{ url_for('security.notifications_log') }}" class="btn btn-light btn-sm w-100">
            <i class="fas fa-envelope"></i> ÙØªØ­ Ø§Ù„Ù…Ø±ÙƒØ²
          </a>
        </div>
      </div>
    </div>
    
    <div class="col-lg-6">
      <div class="card border-0 shadow-lg h-100 hover-lift" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
        <div class="card-body text-white p-4">
          <i class="fas fa-file-invoice-dollar fa-3x mb-3" style="text-shadow: 0 2px 4px rgba(0,0,0,0.3);"></i>
          <h5 class="fw-bold">Tax Reports</h5>
          <p class="small opacity-75 mb-3">VAT Tracking â€¢ Ø¥Ù‚Ø±Ø§Ø±Ø§Øª Ø¶Ø±ÙŠØ¨ÙŠØ©</p>
          <a href="{{ url_for('security.tax_reports') }}" class="btn btn-light btn-sm w-100">
            <i class="fas fa-calculator"></i> ÙØªØ­ Ø§Ù„Ù…Ø±ÙƒØ²
          </a>
        </div>
      </div>
    </div>
  </div>

  <h4 class="mt-5 mb-3"><i class="fas fa-fire text-danger"></i> Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ ÙˆØ§Ù„Ø£Ù…Ø§Ù†</h4>
  
  <div class="row g-4 mb-4">
    <div class="col-lg-6">
      <div class="card border-0 shadow-lg h-100 hover-lift" style="background: linear-gradient(135deg, #ff0844 0%, #ffb199 100%);">
        <div class="card-body text-white p-4">
          <div class="d-flex align-items-center mb-3">
            <i class="fas fa-exclamation-triangle fa-3x mr-3" style="text-shadow: 0 2px 4px rgba(0,0,0,0.3);"></i>
            <div>
              <h5 class="fw-bold mb-0">Emergency Tools</h5>
              <small class="opacity-75">Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ø§Ù„Ø­Ø±Ø¬Ø©</small>
            </div>
          </div>
          <a href="{{ url_for('security.emergency_tools') }}" class="btn btn-light btn-sm w-100">
            <i class="fas fa-fire-extinguisher"></i> ÙØªØ­ Ø§Ù„Ø£Ø¯ÙˆØ§Øª
          </a>
        </div>
      </div>
    </div>
    
    <div class="col-lg-6">
      <div class="card border-0 shadow-lg h-100 hover-lift" style="background: linear-gradient(135deg, #56ab2f 0%, #a8e063 100%);">
        <div class="card-body text-white p-4">
          <div class="d-flex align-items-center mb-3">
            <i class="fas fa-broom fa-3x mr-3" style="text-shadow: 0 2px 4px rgba(0,0,0,0.3);"></i>
            <div>
              <h5 class="fw-bold mb-0">System Cleanup</h5>
              <small class="opacity-75">ØªÙ†Ø¸ÙŠÙ ÙˆØªØ­Ø³ÙŠÙ† Ø§Ù„Ù†Ø¸Ø§Ù…</small>
            </div>
          </div>
          <a href="{{ url_for('security.system_cleanup') }}" class="btn btn-light btn-sm w-100">
            <i class="fas fa-trash-alt"></i> ØªÙ†Ø¸ÙŠÙ Ø¢Ù…Ù†
          </a>
        </div>
      </div>
    </div>
  </div>

  <h4 class="mt-5 mb-3"><i class="fas fa-ban text-danger"></i> Ø¬Ø¯Ø§Ø± Ø§Ù„Ø­Ù…Ø§ÙŠØ© - Firewall</h4>
  
  <div class="row g-4 mb-4">
    <div class="col-lg-6">
      <div class="card border-0 shadow-lg hover-lift" style="background: linear-gradient(135deg, #FF512F 0%, #DD2476 100%);">
        <div class="card-body text-white p-4">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h5 class="fw-bold mb-0"><i class="fas fa-ban mr-2"></i> IPs Ù…Ø­Ø¸ÙˆØ±Ø©</h5>
            <span class="badge bg-warning text-dark fs-5">{{ stats.blocked_ips }}</span>
          </div>
          <div class="row text-center mb-3">
            <div class="col-4">
              <h3 class="fw-bold mb-0">{{ stats.blocked_ips }}</h3>
              <small class="opacity-75">Ù…Ø­Ø¸ÙˆØ±Ø©</small>
            </div>
            <div class="col-4">
              <h3 class="fw-bold mb-0">{{ stats.failed_logins_24h }}</h3>
              <small class="opacity-75">ÙØ§Ø´Ù„Ø©</small>
            </div>
            <div class="col-4">
              <h3 class="fw-bold mb-0">{{ stats.suspicious_activities }}</h3>
              <small class="opacity-75">Ù…Ø´Ø¨ÙˆÙ‡Ø©</small>
            </div>
          </div>
          <div class="d-grid gap-2">
            <a href="{{ url_for('security.blocked_ips') }}" class="btn btn-light btn-sm">
              <i class="fas fa-list"></i> Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©
            </a>
            <a href="{{ url_for('security.block_ip') }}" class="btn btn-outline-light btn-sm">
              <i class="fas fa-plus"></i> Ø­Ø¸Ø± IP
            </a>
          </div>
        </div>
      </div>
    </div>
    
    <div class="col-lg-6">
      <div class="card border-0 shadow-lg hover-lift" style="background: linear-gradient(135deg, #f12711 0%, #f5af19 100%);">
        <div class="card-body text-white p-4">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h5 class="fw-bold mb-0"><i class="fas fa-globe mr-2"></i> Ø¯ÙˆÙ„ Ù…Ø­Ø¸ÙˆØ±Ø©</h5>
            <span class="badge bg-danger fs-5">{{ stats.blocked_countries }}</span>
          </div>
          <div class="row text-center mb-3">
            <div class="col-4">
              <h3 class="fw-bold mb-0">{{ stats.blocked_countries }}</h3>
              <small class="opacity-75">Ø¯ÙˆÙ„</small>
            </div>
            <div class="col-4">
              <h3 class="fw-bold mb-0">{{ stats.total_users }}</h3>
              <small class="opacity-75">Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</small>
            </div>
            <div class="col-4">
              <h3 class="fw-bold mb-0">{{ stats.active_users }}</h3>
              <small class="opacity-75">Ù†Ø´Ø·ÙŠÙ†</small>
            </div>
          </div>
          <div class="d-grid gap-2">
            <a href="{{ url_for('security.blocked_countries') }}" class="btn btn-light btn-sm">
              <i class="fas fa-list"></i> Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©
            </a>
            <a href="{{ url_for('security.block_country') }}" class="btn btn-outline-light btn-sm">
              <i class="fas fa-plus"></i> Ø­Ø¸Ø± Ø¯ÙˆÙ„Ø©
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <h4 class="mt-5 mb-3"><i class="fas fa-link text-success"></i> Ø£Ø¯ÙˆØ§Øª Ø³Ø±ÙŠØ¹Ø©</h4>
  
  <div class="row g-3">
    <div class="col-lg-3 col-md-6">
      <div class="card border-0 shadow-sm h-100 hover-lift">
        <div class="card-body text-center p-3">
          <i class="fas fa-sitemap text-secondary fa-2x mb-2"></i>
          <h6 class="fw-bold mb-2">Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹</h6>
          <a href="{{ url_for('security.sitemap') }}" class="btn btn-sm btn-outline-secondary w-100">
            <i class="fas fa-map"></i> Ø¹Ø±Ø¶
          </a>
        </div>
      </div>
    </div>
    
    <div class="col-lg-3 col-md-6">
      <div class="card border-0 shadow-sm h-100 hover-lift">
        <div class="card-body text-center p-3">
          <i class="fas fa-question-circle text-info fa-2x mb-2"></i>
          <h6 class="fw-bold mb-2">Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©</h6>
          <a href="{{ url_for('security.help_page') }}" class="btn btn-sm btn-outline-info w-100">
            <i class="fas fa-book"></i> Ø¹Ø±Ø¶
          </a>
        </div>
      </div>
    </div>
    
    <div class="col-lg-3 col-md-6">
      <div class="card border-0 shadow-sm h-100 hover-lift">
        <div class="card-body text-center p-3">
          <i class="fas fa-history text-primary fa-2x mb-2"></i>
          <h6 class="fw-bold mb-2">Audit Log</h6>
          <a href="{{ url_for('security.audit_log_viewer') }}" class="btn btn-sm btn-outline-primary w-100">
            <i class="fas fa-eye"></i> Ø¹Ø±Ø¶
          </a>
        </div>
      </div>
    </div>
    
    <div class="col-lg-3 col-md-6">
      <div class="card border-0 shadow-sm h-100 hover-lift">
        <div class="card-body text-center p-3">
          <i class="fas fa-bolt text-warning fa-2x mb-2"></i>
          <h6 class="fw-bold mb-2">Ø§Ù„ÙÙ‡Ø§Ø±Ø³</h6>
          <a href="{{ url_for('security.database_manager', tab='indexes') }}" class="btn btn-sm btn-outline-warning w-100">
            <i class="fas fa-database"></i> Ø¥Ø¯Ø§Ø±Ø©
          </a>
        </div>
      </div>
    </div>
  </div>
{% endblock security_content %}

{% block scripts %}
<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ğŸ” Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…Ø­Ø³Ù‘Ù† - Enhanced Search System
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
(function() {
  const searchInput = document.getElementById('quickSearch');
  const clearBtn = document.getElementById('clearSearch');
  
  if (!searchInput) return;
  
  const searchData = [
    {keywords: ['database', 'Ù‚Ø§Ø¹Ø¯Ø©', 'Ø¨ÙŠØ§Ù†Ø§Øª', 'sql', 'ÙÙ‡Ø§Ø±Ø³'], category: 'Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª'},
    {keywords: ['ai', 'Ø°ÙƒØ§Ø¡', 'Ø§ØµØ·Ù†Ø§Ø¹ÙŠ', 'Ù…Ø³Ø§Ø¹Ø¯', 'Ø±ÙˆØ¨ÙˆØª'], category: 'Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ'},
    {keywords: ['security', 'Ø£Ù…Ø§Ù†', 'Ø­Ù…Ø§ÙŠØ©', 'Ù…Ø±Ø§Ù‚Ø¨Ø©'], category: 'Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©'},
    {keywords: ['users', 'Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†', 'ØµÙ„Ø§Ø­ÙŠØ§Øª', 'permissions'], category: 'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†'},
    {keywords: ['settings', 'Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª', 'ØªØ®ØµÙŠØµ', 'Ø«ÙŠÙ…'], category: 'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª'},
    {keywords: ['reports', 'ØªÙ‚Ø§Ø±ÙŠØ±', 'Ø£Ø¯Ø§Ø¡', 'performance'], category: 'Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±'},
    {keywords: ['tools', 'Ø£Ø¯ÙˆØ§Øª', 'ØªÙƒØ§Ù…Ù„Ø§Øª', 'integrations'], category: 'Ø§Ù„Ø£Ø¯ÙˆØ§Øª'},
    {keywords: ['ledger', 'Ø¯ÙØªØ±', 'Ù…Ø­Ø§Ø³Ø¨Ø©', 'accounting'], category: 'Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©'},
    {keywords: ['emergency', 'Ø·ÙˆØ§Ø±Ø¦', 'cleanup', 'ØªÙ†Ø¸ÙŠÙ'], category: 'Ø§Ù„Ø·ÙˆØ§Ø±Ø¦'}
  ];
  
  let searchTimeout;
  searchInput.addEventListener('input', function() {
    clearTimeout(searchTimeout);
    const query = this.value.trim().toLowerCase();
    
    clearBtn.style.display = query ? 'block' : 'none';
    
    searchTimeout = setTimeout(() => {
      performSearch(query);
    }, 300);
  });
  
  function performSearch(query) {
    const cards = document.querySelectorAll('.card, .small-box');
    let visibleCount = 0;
    let matchedCategories = new Set();
    
    if (!query) {
      cards.forEach(card => {
        const parent = card.closest('.col-lg-3, .col-lg-4, .col-lg-6, .col-md-6');
        if (parent) {
          parent.style.display = '';
          card.classList.remove('border-primary', 'border-2', 'search-highlight');
        }
      });
      removeNoResults();
      return;
    }
    
    cards.forEach(card => {
      const text = card.textContent.toLowerCase();
      const parent = card.closest('.col-lg-3, .col-lg-4, .col-lg-6, .col-md-6');
      
      let shouldShow = text.includes(query);
      
      if (!shouldShow) {
        searchData.forEach(item => {
          if (item.keywords.some(kw => query.includes(kw) || kw.includes(query))) {
            if (text.toLowerCase().includes(item.category.toLowerCase())) {
              shouldShow = true;
              matchedCategories.add(item.category);
            }
          }
        });
      }
      
      if (parent) {
        parent.style.display = shouldShow ? '' : 'none';
        if (shouldShow) {
          visibleCount++;
          card.classList.add('border-primary', 'border-2', 'search-highlight');
          
          parent.style.animation = 'none';
          setTimeout(() => {
            parent.style.animation = 'fadeInScale 0.3s ease';
          }, 10);
        } else {
          card.classList.remove('border-primary', 'border-2', 'search-highlight');
        }
      }
    });
    
    if (visibleCount === 0) {
      showNoResults(query, matchedCategories);
    } else {
      removeNoResults();
      showSearchStats(visibleCount, matchedCategories);
    }
  }
  
  function showNoResults(query, categories) {
    removeNoResults();
    const noResults = document.createElement('div');
    noResults.id = 'noSearchResults';
    noResults.className = 'alert alert-warning text-center shadow-sm';
    noResults.innerHTML = `
      <i class="fas fa-search fa-2x mb-2"></i>
      <h5>Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù†ØªØ§Ø¦Ø¬ Ù„Ù€ "<strong>${query}</strong>"</h5>
      <p class="mb-2">Ø¬Ø±Ø¨ Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù…:</p>
      <div class="d-flex flex-wrap gap-2 justify-content-center">
        ${searchData.map(item => `
          <button class="btn btn-sm btn-outline-primary" onclick="document.getElementById('quickSearch').value='${item.keywords[0]}'; document.getElementById('quickSearch').dispatchEvent(new Event('input'));">
            ${item.category}
          </button>
        `).join('')}
      </div>
    `;
    searchInput.closest('.card').after(noResults);
  }
  
  function showSearchStats(count, categories) {
    let statsEl = document.getElementById('searchStats');
    if (!statsEl) {
      statsEl = document.createElement('div');
      statsEl.id = 'searchStats';
      statsEl.className = 'alert alert-success mb-3';
      searchInput.closest('.card').after(statsEl);
    }
    
    const catList = Array.from(categories).join(' â€¢ ');
    statsEl.innerHTML = `
      <i class="fas fa-check-circle"></i>
      <strong>ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ${count} Ù†ØªÙŠØ¬Ø©</strong>
      ${catList ? `<br><small>Ø§Ù„ÙØ¦Ø§Øª: ${catList}</small>` : ''}
    `;
  }
  
  function removeNoResults() {
    document.getElementById('noSearchResults')?.remove();
    document.getElementById('searchStats')?.remove();
  }
  
  clearBtn.addEventListener('click', function() {
    searchInput.value = '';
    searchInput.dispatchEvent(new Event('input'));
    searchInput.focus();
  });
  
  document.addEventListener('keydown', function(e) {
    if (e.ctrlKey && e.key === 'k') {
      e.preventDefault();
      searchInput.focus();
      searchInput.select();
    }
    
    if (e.key === 'Escape' && document.activeElement === searchInput) {
      searchInput.value = '';
      searchInput.dispatchEvent(new Event('input'));
      searchInput.blur();
    }
  });
  
  console.log('âœ… Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…Ø­Ø³Ù‘Ù† Ø¬Ø§Ù‡Ø² (Ctrl+K Ù„Ù„Ø¨Ø­Ø«ØŒ Esc Ù„Ù„Ø¥Ù„ØºØ§Ø¡)');
})();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ğŸ¨ Animations ÙˆØªØ­Ø³ÙŠÙ†Ø§Øª UI
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
(function() {
  const style = document.createElement('style');
  style.textContent = `
    .card, .small-box {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .card:hover, .small-box:hover {
      transform: translateY(-8px) scale(1.03);
      box-shadow: 0 15px 40px rgba(0,0,0,0.25) !important;
      z-index: 10;
    }
    
    .search-highlight {
      animation: pulseGlow 1.5s ease-in-out infinite;
    }
    
    @keyframes pulseGlow {
      0%, 100% { box-shadow: 0 0 0 0 rgba(0,123,255,0.7); }
      50% { box-shadow: 0 0 20px 5px rgba(0,123,255,0.3); }
    }
    
    @keyframes fadeInScale {
      from {
        opacity: 0;
        transform: scale(0.9);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .card, .small-box {
      animation: fadeInUp 0.6s ease;
    }
    
    .border-2 {
      border-width: 3px !important;
    }
    
    [data-toggle="tooltip"] {
      cursor: help;
    }
    
    .btn {
      transition: all 0.2s ease;
    }
    
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    
    .btn:active {
      transform: translateY(0);
    }
    
    .menu-badge {
      animation: fadeInRight 0.5s ease;
    }
    
    @keyframes fadeInRight {
      from {
        opacity: 0;
        transform: translateX(-10px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    .timeline-item {
      transition: background 0.2s ease;
    }
    
    .timeline-item:hover {
      background: #f8f9fa !important;
      cursor: pointer;
    }
    
    .alert {
      animation: slideInDown 0.5s ease;
    }
    
    @keyframes slideInDown {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  `;
  document.head.appendChild(style);
  
  console.log('âœ… UI Animations Ø¬Ø§Ù‡Ø²Ø©');
})();

(function() {
  const style = document.createElement('style');
  style.textContent = `
    .hover-lift {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .hover-lift:hover {
      transform: translateY(-10px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.3) !important;
    }
    
    .card-body p {
      line-height: 1.6;
    }
    
    h4 {
      font-weight: 700;
      padding-bottom: 10px;
      border-bottom: 3px solid #f0f0f0;
      margin-bottom: 20px !important;
    }
  `;
  document.head.appendChild(style);
})();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ğŸ’¡ Tooltips ØªÙˆØ¶ÙŠØ­ÙŠØ©
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
(function() {
  // Ø¥Ø¶Ø§ÙØ© tooltips Ù„Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
  const tooltips = {
    'Database Control Center': 'Ø¥Ø¯Ø§Ø±Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: ØªØµÙØ­ØŒ ØªØ­Ø±ÙŠØ±ØŒ SQLØŒ PythonØŒ ÙÙ‡Ø§Ø±Ø³ØŒ ØµÙŠØ§Ù†Ø©ØŒ ÙˆØ£ÙƒØ«Ø±',
    'AI Control Center': 'Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠØŒ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ ÙƒØ´Ù Ø§Ù„Ø£Ù†Ù…Ø§Ø·ØŒ ØªÙ†Ø¨Ø¤Ø§ØªØŒ ÙˆØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬',
    'Security & Monitoring Center': 'Ù…Ø±Ø§Ù‚Ø¨Ø© ÙÙˆØ±ÙŠØ©ØŒ Ø¬Ø¯Ø§Ø± Ø­Ù…Ø§ÙŠØ©ØŒ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø£Ù…Ù†ÙŠØ©ØŒ ÙˆØ³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª',
    'Users & Permissions Center': 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†ØŒ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§ØªØŒ Ø§Ù„Ø£Ø¯ÙˆØ§Ø±ØŒ ÙˆØ§Ù„ØªØ­ÙƒÙ… Ø§Ù„ÙƒØ§Ù…Ù„',
    'Settings & Customization Center': 'Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…ØŒ Ø§Ù„Ø«ÙŠÙ…Ø§ØªØŒ Ø§Ù„Ø´Ø¹Ø§Ø±Ø§ØªØŒ Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©ØŒ ÙˆØ§Ù„ØªØ®ØµÙŠØµ',
    'Reports & Performance Center': 'ØªÙ‚Ø§Ø±ÙŠØ± Ø¥Ø¯Ø§Ø±ÙŠØ©ØŒ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡ØŒ GrafanaØŒ ÙˆÙ„ÙˆØ­Ø§Øª Ø§Ù„ØªØ­ÙƒÙ…',
    'Tools & Integration Center': 'Ø§Ù„ØªÙƒØ§Ù…Ù„Ø§ØªØŒ Ø§Ù„Ø¨Ø±ÙŠØ¯ØŒ Ø§Ù„ÙÙˆØ§ØªÙŠØ±ØŒ Ø§Ù„ÙƒØ±ÙˆØªØŒ ÙˆØ£Ø¯ÙˆØ§Øª Ù…ØªÙ†ÙˆØ¹Ø©',
    'Ledger Control': 'Ø¯ÙØªØ± Ø§Ù„Ø£Ø³ØªØ§Ø° Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ: Ø§Ù„Ø­Ø³Ø§Ø¨Ø§ØªØŒ Ø§Ù„Ù‚ÙŠÙˆØ¯ØŒ Ø§Ù„Ø£Ø±ØµØ¯Ø©ØŒ ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠØ©'
  };
  
  document.querySelectorAll('.card h5').forEach(h5 => {
    const text = h5.textContent.trim();
    for (const [key, value] of Object.entries(tooltips)) {
      if (text.includes(key)) {
        const card = h5.closest('.card');
        if (card) {
          card.setAttribute('data-toggle', 'tooltip');
          card.setAttribute('data-placement', 'top');
          card.setAttribute('title', value);
        }
      }
    }
  });
  
  // ØªÙØ¹ÙŠÙ„ Bootstrap tooltips
  $('[data-toggle="tooltip"]').tooltip();
  
  console.log('âœ… Tooltips Ø¬Ø§Ù‡Ø²Ø©');
})();
</script>

<!-- ØªØ­Ù…ÙŠÙ„ Charts Ù„Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
<script src="{{ url_for('static', filename='js/security_charts.js') }}"></script>
{% endblock %}

