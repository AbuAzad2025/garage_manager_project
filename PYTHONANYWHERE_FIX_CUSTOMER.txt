â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ”§ Ø¥ØµÙ„Ø§Ø­ Ù…Ø´ÙƒÙ„Ø© Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø¹Ù„Ù‰ PythonAnywhere
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ø§Ù„Ù…Ø´ÙƒÙ„Ø©:
--------
Ø­Ù‚Ù„ opening_balance Ù…ÙÙ‚ÙˆØ¯ Ù…Ù† Ø¬Ø¯ÙˆÙ„ customers ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù„Ù‰ PythonAnywhere

Ø§Ù„Ø­Ù„:
-----
ØªÙ†ÙÙŠØ° Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØªØ§Ù„ÙŠØ© ÙÙŠ PythonAnywhere Bash Console


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“‹ Ø§Ù„Ø£ÙˆØ§Ù…Ø± (Ù†Ø³Ø® ÙˆÙ„ØµÙ‚ Ù…Ø¨Ø§Ø´Ø±Ø©)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# 1. Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ù…Ø´Ø±ÙˆØ¹ ÙˆØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
cd ~/garage_manager_project/garage_manager
source ~/.virtualenvs/garage_manager/bin/activate

# 2. ØªÙ†ÙÙŠØ° Ø§Ù„Ù€ SQL Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…ÙÙ‚ÙˆØ¯Ø©
python3.10 -c "
from app import create_app, db
from sqlalchemy import text

app = create_app()
with app.app_context():
    try:
        # ÙØ­Øµ Ø¥Ø°Ø§ ÙƒØ§Ù† opening_balance Ù…ÙˆØ¬ÙˆØ¯
        result = db.session.execute(text(\"PRAGMA table_info(customers)\")).fetchall()
        columns = [row[1] for row in result]
        
        if 'opening_balance' not in columns:
            print('â³ Ø¥Ø¶Ø§ÙØ© opening_balance Ù„Ø¬Ø¯ÙˆÙ„ customers...')
            db.session.execute(text('ALTER TABLE customers ADD COLUMN opening_balance NUMERIC(12, 2) DEFAULT 0 NOT NULL'))
            db.session.commit()
            print('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© opening_balance Ù„Ø¬Ø¯ÙˆÙ„ customers')
        else:
            print('âœ… opening_balance Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„ ÙÙŠ customers')
        
        # ÙØ­Øµ suppliers
        result = db.session.execute(text(\"PRAGMA table_info(suppliers)\")).fetchall()
        columns = [row[1] for row in result]
        
        if 'opening_balance' not in columns:
            print('â³ Ø¥Ø¶Ø§ÙØ© opening_balance Ù„Ø¬Ø¯ÙˆÙ„ suppliers...')
            db.session.execute(text('ALTER TABLE suppliers ADD COLUMN opening_balance NUMERIC(12, 2) DEFAULT 0 NOT NULL'))
            db.session.commit()
            print('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© opening_balance Ù„Ø¬Ø¯ÙˆÙ„ suppliers')
        else:
            print('âœ… opening_balance Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„ ÙÙŠ suppliers')
        
        # ÙØ­Øµ partners
        result = db.session.execute(text(\"PRAGMA table_info(partners)\")).fetchall()
        columns = [row[1] for row in result]
        
        if 'opening_balance' not in columns:
            print('â³ Ø¥Ø¶Ø§ÙØ© opening_balance Ù„Ø¬Ø¯ÙˆÙ„ partners...')
            db.session.execute(text('ALTER TABLE partners ADD COLUMN opening_balance NUMERIC(12, 2) DEFAULT 0 NOT NULL'))
            db.session.commit()
            print('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© opening_balance Ù„Ø¬Ø¯ÙˆÙ„ partners')
        else:
            print('âœ… opening_balance Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„ ÙÙŠ partners')
        
        print('')
        print('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•')
        print('âœ… ØªÙ… Ø¥ØµÙ„Ø§Ø­ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!')
        print('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•')
        
    except Exception as e:
        print(f'âŒ Ø®Ø·Ø£: {e}')
        db.session.rollback()
"

# 3. Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
touch /var/www/palkaraj_pythonanywhere_com_wsgi.py

echo ""
echo "âœ… ØªÙ…! Ø¬Ø±Ø¨ Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„ Ø§Ù„Ø¢Ù†"


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. âœ… Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø¢Ù…Ù†Ø©: ÙÙ‚Ø· Ø¥Ø¶Ø§ÙØ© Ø­Ù‚ÙˆÙ„ Ø¬Ø¯ÙŠØ¯Ø© (Ù„Ø§ Ø­Ø°Ù)
2. âœ… Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ: ÙŠØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø­Ù‚Ù„ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¶Ø§ÙØ©
3. âœ… Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©: 0 Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
4. âœ… Ù„Ø§ ÙŠØ¤Ø«Ø±: Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø©


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ” Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ø¬Ø§Ø­
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ø¨Ø¹Ø¯ ØªÙ†ÙÙŠØ° Ø§Ù„Ø£ÙˆØ§Ù…Ø±ØŒ Ø¬Ø±Ø¨:
1. Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹
2. ÙŠØ¬Ø¨ Ø£Ù† ØªØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø£Ø®Ø·Ø§Ø¡
3. ÙŠÙ…ÙƒÙ†Ùƒ ØªØ±Ùƒ opening_balance ÙØ§Ø±ØºØ§Ù‹ Ø£Ùˆ ØªØ¹Ø¨Ø¦ØªÙ‡


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Œ Ù…Ù„Ø§Ø­Ø¸Ø©
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

- Ù‡Ø°Ø§ Ø§Ù„Ø­Ù‚Ù„ (opening_balance) ÙŠÙØ³ØªØ®Ø¯Ù… Ù„Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø§ÙØªØªØ§Ø­ÙŠ
- Ù…ÙˆØ¬Ø¨ = Ù„Ù‡ Ø¹Ù„ÙŠÙ†Ø§ (Ø¯ÙŠÙ† Ø¹Ù„ÙŠÙ†Ø§)
- Ø³Ø§Ù„Ø¨ = Ø¹Ù„ÙŠÙ‡ Ù„Ù†Ø§ (Ø¯ÙŠÙ† Ù„Ù‡)
- ØµÙØ± = Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±ØµÙŠØ¯ Ø§ÙØªØªØ§Ø­ÙŠ (Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ)

