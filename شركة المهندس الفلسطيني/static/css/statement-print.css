/* ═══════════════════════════════════════════════════════════
   CSS للطباعة الاحترافية - كشوفات الحسابات
   Professional Print CSS - Account Statements
   نظام إدارة الكراج - Garage Manager System
   ═══════════════════════════════════════════════════════════ */

/* ══════════════ إعدادات عامة للشاشة ══════════════ */
.print-header-info,
.print-footer-info {
  display: none;
}

/* ══════════════ إعدادات الطباعة ══════════════ */
@media print {
  
  /* ═══ إعدادات الصفحة الأساسية ═══ */
  @page {
    size: A4;
    margin: 12mm 10mm 18mm 10mm;
  }
  
  /* دعم الطباعة العرضية */
  @page :first {
    margin-top: 15mm;
  }
  
  /* ═══ إعدادات Body ═══ */
  html, body {
    margin: 0 !important;
    padding: 0 !important;
    background: white !important;
    color: #000 !important;
    font-size: 11pt !important;
    font-family: 'Arial', 'Tahoma', sans-serif !important;
    direction: rtl !important;
    text-align: right !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* ═══ إخفاء جميع عناصر الواجهة ═══ */
  .main-header,
  .main-sidebar,
  .content-header,
  nav.breadcrumb,
  .breadcrumb,
  .btn,
  button,
  .d-flex.flex-wrap.gap-2,
  .d-flex.gap-2,
  .navbar,
  .sidebar,
  aside,
  .no-print,
  .modal,
  .modal-backdrop,
  #settlementModal,
  #vendors-config,
  script,
  .app-footer,
  .main-footer,
  footer,
  .control-sidebar,
  nav,
  a[href]:not(.print-keep),
  .actions,
  .btn-group,
  .dropdown,
  .pagination {
    display: none !important;
  }
  
  /* ═══ إعادة تعيين Container ═══ */
  .content-wrapper,
  .container,
  .container-fluid {
    margin: 0 !important;
    padding: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
  }
  
  /* ═══ رأس الصفحة المطبوعة ═══ */
  .print-header-info {
    display: table !important;
    width: 100% !important;
    margin-bottom: 3mm !important;
    padding: 3mm !important;
    border-bottom: 2px solid #0d6efd !important;
    background: linear-gradient(to bottom, #f8f9fa 0%, #ffffff 100%) !important;
    page-break-inside: avoid !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  .print-header-info .company-logo {
    display: table-cell !important;
    width: 20% !important;
    vertical-align: middle !important;
    text-align: center !important;
  }
  
  .print-header-info .company-logo img {
    max-height: 45px !important;
    width: auto !important;
  }
  
  .print-header-info .company-info {
    display: table-cell !important;
    width: 50% !important;
    vertical-align: middle !important;
    padding: 0 4mm !important;
  }
  
  .print-header-info .company-name {
    font-size: 13pt !important;
    font-weight: bold !important;
    color: #0d6efd !important;
    margin-bottom: 1mm !important;
  }
  
  .print-header-info .company-details {
    font-size: 8pt !important;
    color: #666 !important;
    line-height: 1.3 !important;
  }
  
  .print-header-info .statement-type {
    display: table-cell !important;
    width: 30% !important;
    vertical-align: middle !important;
    text-align: center !important;
    background: #0d6efd !important;
    color: white !important;
    padding: 2mm !important;
    border-radius: 2mm !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  .print-header-info .statement-type h2 {
    margin: 0 !important;
    font-size: 12pt !important;
    font-weight: bold !important;
  }
  
  .print-header-info .statement-date {
    font-size: 7pt !important;
    margin-top: 1mm !important;
  }
  
  .print-header-info .user-info {
    font-size: 7pt !important;
    color: white !important;
    margin-top: 1mm !important;
    opacity: 0.9 !important;
  }
  
  /* ═══ تذييل الصفحة المطبوعة ═══ */
  .print-footer-info {
    display: block !important;
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
    text-align: center !important;
    font-size: 8pt !important;
    color: #666 !important;
    border-top: 1px solid #ddd !important;
    padding-top: 2mm !important;
    background: white !important;
    page-break-inside: avoid !important;
  }
  
  .print-footer-info .footer-line {
    display: block !important;
    margin-bottom: 0.5mm !important;
    line-height: 1.3 !important;
  }
  
  .print-footer-info .page-number:after {
    content: counter(page) !important;
  }
  
  .print-footer-info .print-time {
    color: #999 !important;
    font-size: 7pt !important;
  }
  
  /* ═══ البطاقات والمحتوى ═══ */
  .card {
    box-shadow: none !important;
    border: 1px solid #333 !important;
    page-break-inside: avoid !important;
    margin-bottom: 3mm !important;
    border-radius: 0 !important;
  }
  
  .card-header {
    background-color: #343a40 !important;
    color: white !important;
    padding: 2mm 3mm !important;
    border-bottom: 2px solid #000 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    page-break-inside: avoid !important;
    page-break-after: avoid !important;
  }
  
  .card-header h5,
  .card-header .card-title {
    margin: 0 !important;
    font-size: 12pt !important;
    font-weight: bold !important;
  }
  
  .card-body {
    padding: 2mm 3mm !important;
  }
  
  /* ═══ ملخص الحساب (الكروت العلوية) ═══ */
  .row.g-3 {
    display: flex !important;
    flex-wrap: wrap !important;
    margin: 0 0 3mm 0 !important;
    page-break-inside: avoid !important;
  }
  
  .row.g-3 .col-12,
  .row.g-3 .col-md-3,
  .row.g-3 .col-md-4 {
    flex: 1 !important;
    min-width: 30% !important;
    margin: 0 1mm 2mm 1mm !important;
    padding: 0 !important;
  }
  
  .row.g-3 .card {
    height: auto !important;
    min-height: 15mm !important;
  }
  
  .row.g-3 .card-body {
    padding: 2mm !important;
  }
  
  .row.g-3 .fs-5 {
    font-size: 11pt !important;
  }
  
  .row.g-3 .small,
  .row.g-3 .text-muted {
    font-size: 8pt !important;
  }
  
  .row.g-3 i.fas,
  .row.g-3 i.fa {
    display: none !important;
  }
  
  /* ═══ الجداول ═══ */
  .table-responsive {
    overflow: visible !important;
  }
  
  .table {
    width: 100% !important;
    border-collapse: collapse !important;
    page-break-inside: auto !important;
    font-size: 10pt !important;
  }
  
  .table thead {
    display: table-header-group !important;
  }
  
  .table tfoot {
    display: table-footer-group !important;
  }
  
  .table tbody {
    display: table-row-group !important;
  }
  
  .table th,
  .table td {
    border: 1px solid #333 !important;
    padding: 2mm !important;
    font-size: 9pt !important;
    line-height: 1.3 !important;
    vertical-align: middle !important;
  }
  
  .table thead th {
    background-color: #343a40 !important;
    color: white !important;
    font-weight: bold !important;
    text-align: center !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    page-break-after: avoid !important;
  }
  
  .table tbody tr {
    page-break-inside: avoid !important;
    page-break-after: auto !important;
  }
  
  .table tfoot th,
  .table tfoot td {
    background-color: #f8f9fa !important;
    font-weight: bold !important;
    border-top: 2px solid #000 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* ═══ محاذاة النصوص ═══ */
  .text-end {
    text-align: left !important;
  }
  
  .text-center {
    text-align: center !important;
  }
  
  /* ═══ الألوان والشارات ═══ */
  .text-danger,
  .balance-positive {
    color: #dc3545 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  .text-success,
  .balance-negative {
    color: #28a745 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  .text-warning {
    color: #ffc107 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  .text-info {
    color: #17a2b8 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  .text-primary {
    color: #0d6efd !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  .badge {
    display: inline-block !important;
    padding: 1mm 2mm !important;
    font-size: 8pt !important;
    border: 1px solid #333 !important;
    border-radius: 1mm !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  .bg-primary {
    background-color: #0d6efd !important;
    color: white !important;
  }
  
  .bg-secondary {
    background-color: #6c757d !important;
    color: white !important;
  }
  
  .bg-success {
    background-color: #28a745 !important;
    color: white !important;
  }
  
  .bg-danger {
    background-color: #dc3545 !important;
    color: white !important;
  }
  
  .bg-warning {
    background-color: #ffc107 !important;
    color: #000 !important;
  }
  
  .bg-info {
    background-color: #17a2b8 !important;
    color: white !important;
  }
  
  .bg-dark {
    background-color: #343a40 !important;
    color: white !important;
  }
  
  /* ═══ Alert Messages ═══ */
  .alert {
    border: 1px solid #000 !important;
    padding: 2mm !important;
    margin: 2mm 0 !important;
    border-radius: 1mm !important;
    page-break-inside: avoid !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  .alert-danger {
    background-color: #f8d7da !important;
    border-color: #dc3545 !important;
    color: #721c24 !important;
  }
  
  .alert-success {
    background-color: #d4edda !important;
    border-color: #28a745 !important;
    color: #155724 !important;
  }
  
  .alert-info {
    background-color: #d1ecf1 !important;
    border-color: #17a2b8 !important;
    color: #0c5460 !important;
  }
  
  /* ═══ تحسين تفصيل حسب المنتج ═══ */
  .statement-card {
    page-break-before: always !important;
    margin-top: 5mm !important;
  }
  
  .statement-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* ═══ معلومات إضافية ═══ */
  .row.mt-4 {
    page-break-inside: avoid !important;
    margin-top: 3mm !important;
  }
  
  /* ═══ إخفاء أيقونات FontAwesome في الطباعة ═══ */
  i.fas,
  i.fa,
  i.far,
  i.fab {
    display: none !important;
  }
  
  /* ═══ تحسين الروابط ═══ */
  a[href]:after {
    content: "" !important;
  }
  
  /* ═══ منع قطع العناصر ═══ */
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid !important;
    page-break-inside: avoid !important;
  }
  
  p {
    orphans: 3 !important;
    widows: 3 !important;
  }
  
  /* ═══ إصلاح مشاكل Bootstrap في الطباعة ═══ */
  .col-1, .col-2, .col-3, .col-4, .col-5, .col-6,
  .col-7, .col-8, .col-9, .col-10, .col-11, .col-12,
  .col-md-1, .col-md-2, .col-md-3, .col-md-4,
  .col-md-5, .col-md-6, .col-md-7, .col-md-8,
  .col-md-9, .col-md-10, .col-md-11, .col-md-12 {
    float: none !important;
    width: auto !important;
  }
  
  /* ═══ تحسين النصوص المقطوعة ═══ */
  .text-truncate {
    white-space: normal !important;
    overflow: visible !important;
    text-overflow: clip !important;
  }
  
  /* ═══ Shadow وغيرها ═══ */
  .shadow,
  .shadow-sm,
  .shadow-lg {
    box-shadow: none !important;
  }
  
  /* ═══ Rounded ═══ */
  .rounded,
  .rounded-sm,
  .rounded-lg {
    border-radius: 0 !important;
  }
  
  /* ═══ تحسين المسافات ═══ */
  .mb-4, .my-4 {
    margin-bottom: 3mm !important;
  }
  
  .mt-4 {
    margin-top: 3mm !important;
  }
  
  .p-3 {
    padding: 2mm !important;
  }
  
  /* ═══ Backgrounds ═══ */
  .bg-light {
    background-color: #f8f9fa !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  .bg-white {
    background-color: white !important;
  }
  
  /* ═══ تحسين عرض الجداول الكبيرة ═══ */
  @page {
    orphans: 4;
    widows: 2;
  }
  
  /* ═══ إضافة حدود للصفحة (اختياري) ═══ */
  body:before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border: 1pt solid #ddd;
    pointer-events: none;
    z-index: -1;
  }
  
  /* ═══ تحسين عرض التواريخ والأرقام ═══ */
  .num,
  .text-end,
  td.text-end,
  th.text-end {
    font-variant-numeric: tabular-nums !important;
    font-feature-settings: "tnum" !important;
  }
  
  /* ═══ إخفاء Tooltips وPopovers ═══ */
  .tooltip,
  .popover {
    display: none !important;
  }
  
  /* ═══ تحسين جودة الخطوط ═══ */
  * {
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
  }
}

/* ═══════════════════════════════════════════════════════════
   نهاية ملف CSS الطباعة
   End of Print CSS File
   ═══════════════════════════════════════════════════════════ */

